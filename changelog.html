<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" /><link rel="next" title="贡献" href="contributing.html" /><link rel="prev" title="深度链接" href="utils/deep_linking.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>更新日志 - aiogram 3.4.1 文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/stylesheets/extra.css?v=040759bd" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">aiogram 3.4.1 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">aiogram 3.4.1 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration_2_to_3.html">迁移常见问题解答（2.x -&gt; 3.0）</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">Bot API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Bot API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api/bot.html">机器人</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/session/index.html">客户端</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 客户端</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/session/custom_server.html">自定义 API 服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/session/base.html">基本</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/session/aiohttp.html">aiohttp</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/session/middleware.html">客户端中间件</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/types/index.html">类型</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 类型</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/types/animation.html">动图</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/audio.html">音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command.html">命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope.html">命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_all_chat_administrators.html">群聊管理员命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_all_group_chats.html">群聊命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_all_private_chats.html">私聊命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_chat.html">聊天命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_chat_administrators.html">指定群聊管理员命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_chat_member.html">指定群聊成员命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_command_scope_default.html">默认命令范围</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_description.html">介绍</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_name.html">名称</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/bot_short_description.html">签名</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/callback_query.html">回调查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat.html">聊天</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_administrator_rights.html">聊天管理员权限</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost.html">聊天助力添加</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_added.html">聊天助力已添加</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_removed.html">聊天助力移除</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_source.html">聊天助力来源</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_source_gift_code.html">聊天助力来源 GiftCode</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_source_giveaway.html">聊天助力来源 Giveaway</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_source_premium.html">聊天助力来源 Premium</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_boost_updated.html">聊天助力更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_invite_link.html">聊天邀请链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_join_request.html">聊天加入请求</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_location.html">聊天位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member.html">聊天成员类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_administrator.html">聊天成员管理员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_banned.html">聊天成员被封禁</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_left.html">聊天成员已离开</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_member.html">聊天成员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_owner.html">聊天创建者</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_restricted.html">聊天成员限制</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_member_updated.html">聊天成员状态</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_permissions.html">聊天权限</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_photo.html">聊天图片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chat_shared.html">聊天分享</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/contact.html">联系人</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/dice.html">骰子</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/document.html">文档</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/external_reply_info.html">外部回复信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/file.html">文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/force_reply.html">强制回复</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/forum_topic.html">论坛话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/forum_topic_closed.html">论坛话题已关闭</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/forum_topic_created.html">论坛话题已创建</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/forum_topic_edited.html">论坛话题已编辑</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/forum_topic_reopened.html">论坛话题重新打开</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/general_forum_topic_hidden.html">一般论坛话题隐藏</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/general_forum_topic_unhidden.html">一般论坛话题未隐藏</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/giveaway.html">Giveaway</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/giveaway_completed.html">Giveaway已结束</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/giveaway_created.html">Giveaway创建</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/giveaway_winners.html">Giveaway中奖者</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inaccessible_message.html">无法访问的消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_keyboard_button.html">内联键盘按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_keyboard_markup.html">内联键盘标记</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_file.html">输入文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_media.html">输入媒体</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_media_animation.html">输入媒体动画</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_media_audio.html">输入媒体音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_media_document.html">输入媒体文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_media_photo.html">输入媒体照片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_media_video.html">输入媒体视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/keyboard_button.html">键盘按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/keyboard_button_poll_type.html">键盘按钮投票类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/keyboard_button_request_chat.html">键盘按钮请求对话框</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/keyboard_button_request_user.html">键盘按钮请求用户</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/keyboard_button_request_users.html">键盘按钮请求多个用户</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/link_preview_options.html">链接预览选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/location.html">地点</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/login_url.html">登录网址</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/maybe_inaccessible_message.html">也许不可访问的信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/menu_button.html">菜单按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/menu_button_commands.html">菜单按钮命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/menu_button_default.html">默认菜单按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/menu_button_web_app.html">菜单按钮网页应用</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message.html">消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_auto_delete_timer_changed.html">自动删除定时器已更改</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_entity.html">消息实体</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_id.html">消息ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_origin.html">消息来源</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_origin_channel.html">消息源频道</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_origin_chat.html">消息来源对话</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_origin_hidden_user.html">消息来源隐藏用户</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_origin_user.html">消息发送者</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_reaction_count_updated.html">消息反应计数已更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/message_reaction_updated.html">消息反应已更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/photo_size.html">照片尺寸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/poll.html">投票</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/poll_answer.html">投票答案</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/poll_option.html">投票选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/proximity_alert_triggered.html">触发了邻近警报</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reaction_count.html">反应计数</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reaction_type.html">反应类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reaction_type_custom_emoji.html">自定义表情类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reaction_type_emoji.html">反应类型表情符号</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reply_keyboard_markup.html">回复键盘标记</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reply_keyboard_remove.html">删除回复键盘</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/reply_parameters.html">回复参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/response_parameters.html">响应参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/story.html">故事</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/switch_inline_query_chosen_chat.html">选择内联查询选择的聊天</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/text_quote.html">文本引用</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/user.html">用户</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/user_chat_boosts.html">用户聊天增强</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/user_profile_photos.html">用户个人资料照片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/user_shared.html">用户共享</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/users_shared.html">用户分享</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/venue.html">地点</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/video.html">视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/video_chat_ended.html">视频聊天结束</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/video_chat_participants_invited.html">视频聊天参与者已邀请</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/video_chat_scheduled.html">视频聊天预定</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/video_chat_started.html">视频聊天已开始</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/video_note.html">视频笔记</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/voice.html">声音</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/web_app_data.html">小程序数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/web_app_info.html">小程序信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/write_access_allowed.html">写入访问被允许</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/chosen_inline_result.html">选择内联结果</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query.html">行内查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result.html">行内查询结果</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_article.html">内联查询结果文章</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_audio.html">内联查询结果音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_audio.html">内联查询结果缓存音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_document.html">内联查询结果缓存文档</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_gif.html">内联查询结果缓存的gif</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_mpeg4_gif.html">内联查询结果缓存的MPEG-4 GIF</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_photo.html">缓存图片内联查询结果</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_sticker.html">内联查询结果缓存的贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_video.html">内联查询结果缓存视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_cached_voice.html">内联查询结果缓存语音</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_contact.html">内联查询结果联系</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_document.html">内联查询结果文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_game.html">内联查询结果游戏</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_gif.html">内联查询结果GIF</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_location.html">内联查询结果位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_mpeg4_gif.html">内联查询结果Mpeg4Gif</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_photo.html">内联查询结果照片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_venue.html">在这里输入文本…</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_video.html">行内查询结果视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_result_voice.html">内联查询结果音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/inline_query_results_button.html">内联查询结果按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_contact_message_content.html">输入联系消息内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_invoice_message_content.html">输入发票消息内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_location_message_content.html">输入位置消息内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_message_content.html">输入消息内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_text_message_content.html">输入文本消息内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_venue_message_content.html">输入场馆消息内容</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/sent_web_app_message.html">网页应用消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/input_sticker.html">输入贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/mask_position.html">遮罩位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/sticker.html">贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/sticker_set.html">贴纸集</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/encrypted_credentials.html">护照加密凭据</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/encrypted_passport_element.html">护照加密要素</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_data.html">护照数据</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error.html">护照元素错误</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_data_field.html">护照元素错误数据字段</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_file.html">护照元素错误文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_files.html">护照元素错误的文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_front_side.html">护照元素错误-正面</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_reverse_side.html">护照元素错误反面</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_selfie.html">护照要素错误自拍</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_translation_file.html">护照元素错误翻译文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_translation_files.html">护照元素错误翻译文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_element_error_unspecified.html">护照元素错误未指定</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/passport_file.html">护照文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/invoice.html">发票</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/labeled_price.html">标记的价格</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/order_info.html">订单信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/pre_checkout_query.html">预结账查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/shipping_address.html">送货地址</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/shipping_option.html">运输选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/shipping_query.html">查询运输</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/successful_payment.html">成功支付</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/update.html">更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/webhook_info.html">WebhookInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/callback_game.html">回调游戏</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/game.html">游戏</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/types/game_high_score.html">游戏最高分</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/methods/index.html">方法</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 方法</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/methods/add_sticker_to_set.html">添加贴纸到贴纸集</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/create_new_sticker_set.html">创建新贴纸集</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_sticker_from_set.html">从贴纸集删除贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_sticker_set.html">删除贴纸集</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_custom_emoji_stickers.html">获取自定义表情贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_sticker_set.html">获取贴纸集</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_sticker.html">发送贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_custom_emoji_sticker_set_thumbnail.html">设置自定义表情贴纸集缩略图</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_sticker_emoji_list.html">设置贴纸表情列表</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_sticker_keywords.html">设置贴纸关键词</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_sticker_mask_position.html">设置贴纸掩码位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_sticker_position_in_set.html">设置贴纸在贴纸集中的位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_sticker_set_thumbnail.html">设置贴纸集缩略图</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_sticker_set_title.html">设置贴纸标题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/upload_sticker_file.html">上传贴纸文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/answer_callback_query.html">回答回调查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/approve_chat_join_request.html">批准聊天加入请求</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/ban_chat_member.html">封禁聊天成员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/ban_chat_sender_chat.html">禁止聊天发送者聊天</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/close.html">关闭</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/close_forum_topic.html">关闭论坛主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/close_general_forum_topic.html">关闭一般论坛话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/copy_message.html">复制消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/copy_messages.html">复制多条消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/create_chat_invite_link.html">创建聊天邀请链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/create_forum_topic.html">创建论坛主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/decline_chat_join_request.html">拒绝聊天加入请求</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_chat_photo.html">删除聊天照片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_chat_sticker_set.html">删除聊天贴纸集</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_forum_topic.html">删除论坛主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_my_commands.html">删除命令列表</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_chat_invite_link.html">编辑聊天邀请链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_forum_topic.html">编辑论坛话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_general_forum_topic.html">编辑常规论坛主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/export_chat_invite_link.html">导出聊天邀请链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/forward_message.html">转发消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/forward_messages.html">转发多条消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_chat.html">获取聊天</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_chat_administrators.html">获取聊天管理员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_chat_member.html">获取聊天成员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_chat_member_count.html">获取聊天成员数量</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_chat_menu_button.html">获取聊天菜单按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_file.html">获取文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_forum_topic_icon_stickers.html">获取论坛主题图标贴纸</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_me.html">获取机器人信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_my_commands.html">获取机器人命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_my_default_administrator_rights.html">获取机器人默认管理员权限</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_my_description.html">获取机器人描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_my_name.html">获取机器人姓名</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_my_short_description.html">获取机器人简短描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_user_chat_boosts.html">获取用户聊天增强</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_user_profile_photos.html">获取用户个人资料照片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/hide_general_forum_topic.html">隐藏一般论坛话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/leave_chat.html">退出聊天</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/log_out.html">注销</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/pin_chat_message.html">发送聊天消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/promote_chat_member.html">提升聊天成员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/reopen_forum_topic.html">重新打开论坛话题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/reopen_general_forum_topic.html">重新打开一般论坛主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/restrict_chat_member.html">限制聊天成员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/revoke_chat_invite_link.html">撤销聊天邀请链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_animation.html">发送动画</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_audio.html">发送音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_chat_action.html">发送聊天动作</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_contact.html">发送联系方式</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_dice.html">发送骰子</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_document.html">发送文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_location.html">发送位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_media_group.html">发送媒体组</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_message.html">发送消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_photo.html">发送照片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_poll.html">发送调查</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_venue.html">发送地点</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_video.html">发送视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_video_note.html">发送视频笔记</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_voice.html">发送语音</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_administrator_custom_title.html">设置聊天管理员自定义头衔</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_description.html">设置聊天描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_menu_button.html">设置聊天菜单按钮</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_permissions.html">设置聊天权限</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_photo.html">设置聊天图片</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_sticker_set.html">设置聊天表情套装</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_chat_title.html">设置聊天标题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_message_reaction.html">设置消息反应</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_my_commands.html">设置我的命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_my_default_administrator_rights.html">设置我的默认管理员权限</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_my_description.html">设置我的描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_my_name.html">设定我的名字</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_my_short_description.html">设置我的简短描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unban_chat_member.html">解除禁止聊天成员</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unban_chat_sender_chat.html">解禁聊天发送者聊天</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unhide_general_forum_topic.html">显示一般论坛主题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unpin_all_chat_messages.html">取消固定所有聊天消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unpin_all_forum_topic_messages.html">取消所有论坛主题消息的取消固定</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unpin_all_general_forum_topic_messages.html">取消所有一般论坛主题消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/unpin_chat_message.html">取消固定聊天消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_message.html">删除消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_messages.html">删除消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_message_caption.html">编辑消息标题</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_message_live_location.html">编辑实时位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_message_media.html">编辑消息媒体</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_message_reply_markup.html">编辑消息回复标记</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/edit_message_text.html">编辑消息文本</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/stop_message_live_location.html">停止发送实时位置</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/stop_poll.html">停止投票</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/answer_inline_query.html">回答内联查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/answer_web_app_query.html">回答WebApp查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_game_high_scores.html">获取游戏最高分</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_game.html">发送游戏</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_game_score.html">设置游戏比分</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/answer_pre_checkout_query.html">回答预结账查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/answer_shipping_query.html">回答shipping查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/create_invoice_link.html">创建发票链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/send_invoice.html">发送发票</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/delete_webhook.html">删除网页链接</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_updates.html">获取更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/get_webhook_info.html">获取Webhook信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_webhook.html">设置网络钩子</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/methods/set_passport_data_errors.html">设置护照数据错误</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/enums/index.html">枚举</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 枚举</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/enums/bot_command_scope_type.html">机器人命令范围类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/chat_action.html">聊天操作</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/chat_boost_source_type.html">聊天提升来源类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/chat_member_status.html">聊天成员状态</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/chat_type.html">聊天类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/content_type.html">内容类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/currency.html">货币</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/dice_emoji.html">骰子表情符号</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/encrypted_passport_element.html">加密护照元素</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/inline_query_result_type.html">内联查询结果类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/input_media_type.html">输入媒体类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/keyboard_button_poll_type.html">键盘按钮投票类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/mask_position_point.html">遮罩位置点</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/menu_button_type.html">菜单按钮类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/message_entity_type.html">消息实体类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/message_origin_type.html">消息来源类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/parse_mode.html">解析模式</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/passport_element_error_type.html">护照元素错误类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/poll_type.html">投票类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/reaction_type_type.html">反应类型类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/sticker_format.html">贴纸格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/sticker_type.html">贴纸类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/topic_icon_color.html">主题图标颜色</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/enums/update_type.html">更新类型</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/download_file.html">下载文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/upload_file.html">上传文件</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="dispatcher/index.html">处理事件</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 处理事件</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/router.html">路由器(Router)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/dispatcher.html">调度器(Dispatcher)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/dependency_injection.html">依赖注入</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dispatcher/filters/index.html">过滤事件</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 过滤事件</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/filters/command.html">命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/filters/chat_member_updated.html">聊天成员更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/filters/magic_filters.html">魔法过滤(Magic filters)</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/filters/magic_data.html">魔法数据(MagicData)</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/filters/callback_data.html">回调数据工厂和过滤器</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/filters/exception.html">例外情况</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/long_polling.html">长轮询(Long-polling)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/webhook.html">网络钩子(Webhook)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dispatcher/finite_state_machine/index.html">有限状态机(FSM)</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 有限状态机(FSM)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/finite_state_machine/storages.html">存储</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/finite_state_machine/scene.html">场景</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/middlewares.html">中间件(Middlewares)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/errors.html">错误</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher/flags.html">标记(Flags)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dispatcher/class_based_handlers/index.html">基于类的处理程序</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 基于类的处理程序</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/base.html">基本处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/callback_query.html">回调查询处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/chosen_inline_result.html">已选择的内联结果处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/error.html">错误处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/inline_query.html">内联查询处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/message.html">消息处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/poll.html">投票处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/pre_checkout_query.html">预结账查询处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/shipping_query.html">发货查询处理程序</a></li>
<li class="toctree-l3"><a class="reference internal" href="dispatcher/class_based_handlers/chat_member.html">聊天成员处理程序</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="utils/index.html">工具</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 工具</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="utils/keyboard.html">键盘构建器</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/i18n.html">国际化</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/chat_action.html">聊天动作</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/web_app.html">WebApp</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/callback_answer.html">回调应答</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/formatting.html">格式化</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/media_group.html">媒体组构建器</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils/deep_linking.html">深度链接</a></li>
</ul>
</li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">更新日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">贡献</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="changelog">
<span id="aiogram-changes"></span><h1>更新日志<a class="headerlink" href="#changelog" title="Link to this heading">#</a></h1>
<section id="release-unreleased-draft-2024-03-25">
<h2>3.4.1 [UNRELEASED DRAFT] (2024-03-25)<a class="headerlink" href="#release-unreleased-draft-2024-03-25" title="Link to this heading">#</a></h2>
<section id="features">
<h3>特性<a class="headerlink" href="#features" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Added <strong>message_thread_id</strong> parameter to <strong>ChatActionSender</strong> class methods.
<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1437">#1437</a></p></li>
</ul>
</section>
<section id="bugfixes">
<h3>错误修复<a class="headerlink" href="#bugfixes" title="Link to this heading">#</a></h3>
<ul>
<li><ul class="simple">
<li><p><strong>WebAppUser 类字段</strong> ：为 <cite>WebAppUser</cite> 类添加了缺失的 <cite>is_premium</cite> 、 <cite>added_to_attachment_menu</cite> 和 <cite>allows_write_to_pm</cite> 字段，以便与 Telegram API 保持一致。</p></li>
<li><p>实现 <strong>WebAppChat 类</strong> ：引入了 <cite>WebAppChat</cite> 类，其中包含 Telegram API 中指定的所有字段（<cite>id</cite>、<cite>type</cite>、<cite>title</cite>、<cite>username</cite> 和 <cite>photo_url</cite>），而之前的类库中缺少这些字段。</p></li>
<li><p><strong>WebAppInitData 类字段</strong> ：在 <cite>WebAppInitData</cite> 类中加入了之前省略的字段：<cite>chat</cite>、<cite>chat_type</cite>、<cite>chat_instance</cite>，以匹配官方文档，获得完整的 Telegram Web 应用程序支持。</p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1424">#1424</a></p>
</li>
<li><p>Fixed poll answer FSM context by handling <code class="code docutils literal notranslate"><span class="pre">voter_chat</span></code> for <code class="code docutils literal notranslate"><span class="pre">poll_answer</span></code> event
<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1436">#1436</a></p></li>
</ul>
</section>
<section id="improved-documentation">
<h3>改进的文档<a class="headerlink" href="#improved-documentation" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 WebApp 文档中添加了 WebAppChat 类，更新了 WebApp 文档的 uk_UA 本地化。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1433">#1433</a></p></li>
</ul>
</section>
</section>
<section id="id5">
<h2>3.4.1 (2024-02-17)<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<section id="id6">
<h3>错误修复<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修正了 <code class="code docutils literal notranslate"><span class="pre">LinkPreviewOptions</span></code> 类的 JSON 序列化，当它作为机器人范围的默认选项传递时。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1418">#1418</a></p></li>
</ul>
</section>
</section>
<section id="id8">
<h2>3.4.0 (2024-02-16)<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<section id="id9">
<h3>特性<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<ul>
<li><p>重构了机器人范围内的全局项，如 <code class="code docutils literal notranslate"><span class="pre">parse_mode</span></code>、<code class="code docutils literal notranslate"><span class="pre">disable_web_page_preview</span></code> 等，使其更加灵活。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>请注意，设置这些全局机器人属性的旧方法现已过时，将在下一个主要版本中删除。</p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1392">#1392</a></p>
</li>
<li><p>一个新的枚举 <code class="code docutils literal notranslate"><span class="pre">KeyboardButtonPollTypeType</span></code> 用于 <code class="code docutils literal notranslate"><span class="pre">KeyboardButtonPollTypeType.type</span></code> 字段已经添加。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1398">#1398</a></p></li>
<li><p>添加了对 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#february-16-2024">Bot API 7.1</a> 的全面支持</p>
<ul class="simple">
<li><p>在超级组中添加了对管理员权限 <code class="code docutils literal notranslate"><span class="pre">can_post_stories</span></code>、 <code class="code docutils literal notranslate"><span class="pre">can_edit_stories</span></code>、 <code class="code docutils literal notranslate"><span class="pre">can_delete_stories</span></code> 的支持。</p></li>
<li><p>在类 <code class="code docutils literal notranslate"><span class="pre">Message</span></code> 中添加了类 <code class="code docutils literal notranslate"><span class="pre">ChatBoostAdded</span></code> 和字段 <code class="code docutils literal notranslate"><span class="pre">boost_added</span></code>，用于服务用户提升聊天的消息。</p></li>
<li><p>为类 <code class="code docutils literal notranslate"><span class="pre">Message</span></code> 添加字段 <code class="code docutils literal notranslate"><span class="pre">sender_boost_count</span></code>。</p></li>
<li><p>为类 <code class="code docutils literal notranslate"><span class="pre">Message</span></code> 添加字段 <code class="code docutils literal notranslate"><span class="pre">reply_to_story</span></code>。</p></li>
<li><p>为类 <code class="code docutils literal notranslate"><span class="pre">Story</span></code> 添加了 <code class="code docutils literal notranslate"><span class="pre">chat</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">id</span></code> 字段。</p></li>
<li><p>为类 <code class="code docutils literal notranslate"><span class="pre">Chat</span></code> 添加了字段 <code class="code docutils literal notranslate"><span class="pre">unrestrict_boost_count</span></code>。</p></li>
<li><p>为类 <code class="code docutils literal notranslate"><span class="pre">Chat</span></code> 添加字段 <code class="code docutils literal notranslate"><span class="pre">custom_emoji_sticker_set_name</span></code>。</p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1417">#1417</a></p>
</li>
</ul>
</section>
<section id="id13">
<h3>错误修复<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>更新 KeyboardBuilder 实用程序，修复按钮方法的类型提示，将不同标记类型的限制调整到实际值。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1399">#1399</a></p></li>
<li><p>新增了新的 <code class="code docutils literal notranslate"><span class="pre">reply_parameters</span></code> 参数到 <code class="code docutils literal notranslate"><span class="pre">message.send_copy</span></code> ，因为它没有被添加在那里 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1403">#1403</a></p></li>
</ul>
</section>
<section id="id16">
<h3>改进的文档<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在文档中添加 <cite>使用复数形式</cite> 的概念 Utils -&gt; 翻译 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1395">#1395</a></p></li>
</ul>
</section>
</section>
<section id="id18">
<h2>3.3.0 (2023-12-31)<a class="headerlink" href="#id18" title="Link to this heading">#</a></h2>
<section id="id19">
<h3>特性<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<ul>
<li><p>完全支持 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#december-29-2023">Bot API 7.0</a> 已添加</p>
<ul class="simple">
<li><p>反应</p></li>
<li><p>回复 2.0</p></li>
<li><p>链接预览定制</p></li>
<li><p>引用块</p></li>
<li><p>多重消息操作</p></li>
<li><p>多用户请求</p></li>
<li><p>聊天提升</p></li>
<li><p>赠品</p></li>
<li><p>其他变化</p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1387">#1387</a></p>
</li>
</ul>
</section>
</section>
<section id="id21">
<h2>3.2.0 (2023-11-24)<a class="headerlink" href="#id21" title="Link to this heading">#</a></h2>
<section id="id22">
<h3>特性<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>引入场景功能，帮助您使用有限状态机简化用户交互。了解有关 👉 <a class="reference internal" href="dispatcher/finite_state_machine/scene.html#scenes"><span class="std std-ref">Scenes</span></a>. <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1280">#1280</a></p></li>
<li><p>添加了新的FSM策略 <code class="code docutils literal notranslate"><span class="pre">CHAT_TOPIC</span></code>，它为聊天中的整个主题设置状态，也适用于私人消息和没有话题的常规群组。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1343">#1343</a></p></li>
</ul>
</section>
<section id="id25">
<h3>错误修复<a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">Message.send_copy</span></code> 快捷方式中 <code class="code docutils literal notranslate"><span class="pre">parse_mode</span></code> 参数。默认情况下禁用。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1332">#1332</a></p></li>
<li><p>新增了从过滤器获取处理程序标志的功能。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1360">#1360</a></p></li>
<li><p>修复了一个情况，在没有默认值的情况下无法解析 <code class="code docutils literal notranslate"><span class="pre">CallbackData</span></code> 的问题。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1368">#1368</a></p></li>
</ul>
</section>
<section id="id29">
<h3>改进的文档<a class="headerlink" href="#id29" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>已纠正语法错误，改进了句子结构，对迁移2.x-3.x进行了翻译 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1302">#1302</a></p></li>
<li><p>模块命名中的小错字，以及一些语法问题。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1340">#1340</a></p></li>
<li><p>为自动生成学术引用添加了 <cite>CITATION.cff</cite> 文件。现在您可以从 GitHub 页面复制引用，然后粘贴到您的论文中。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1351">#1351</a></p></li>
<li><p>在中间件文档中进行了小的拼写错误更正。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1353">#1353</a></p></li>
</ul>
</section>
<section id="misc">
<h3>其他<a class="headerlink" href="#misc" title="Link to this heading">#</a></h3>
<ul>
<li><p>修复测试中的资源警告，重写了 <code class="code docutils literal notranslate"><span class="pre">RedisEventsIsolation</span></code> fixture，以使用来自 <code class="code docutils literal notranslate"><span class="pre">RedisStorage</span></code> 的 Redis 连接 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1320">#1320</a></p></li>
<li><p>更新了依赖关系，增加了最低所需版本：</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">magic-filter</span></code> - 修复了 <cite>.resolve</cite> 操作</p></li>
<li><p><cite>pydantic</cite> - 修复兼容性（在2.4版中出现故障）</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">aiodns</span></code> - 在 <code class="code docutils literal notranslate"><span class="pre">fast</span></code> extras 中添加了新的依赖项（<code class="code docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">aiogram[fast]</span></code>)</p></li>
<li><p><em>其他…</em></p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1327">#1327</a></p>
</li>
<li><p>防止更新处理任务指针被垃圾回收，从2.x回溯到 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1331">#1331</a></p></li>
<li><p>更新了依赖项中 <code class="code docutils literal notranslate"><span class="pre">typing-extensions</span></code> 软件包的版本范围，以修复与 <code class="code docutils literal notranslate"><span class="pre">FastAPI</span></code> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1347">#1347</a> 的兼容性问题</p></li>
<li><p>介绍Python 3.12支持 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1354">#1354</a></p></li>
<li><p>加速了CallableMixin处理过程，通过缓存对嵌套对象的引用并简化kwargs的组装。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1357">#1357</a></p></li>
<li><p>新增了 <code class="code docutils literal notranslate"><span class="pre">pydantic</span></code> v2.5 支持。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1361">#1361</a></p></li>
<li><p>仅将 <code class="code docutils literal notranslate"><span class="pre">thumbnail</span></code> 字段类型更新为 <code class="code docutils literal notranslate"><span class="pre">InputFile</span></code> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1372">#1372</a></p></li>
</ul>
</section>
</section>
<section id="id42">
<h2>3.1.1 (2023-09-25)<a class="headerlink" href="#id42" title="Link to this heading">#</a></h2>
<section id="id43">
<h3>错误修复<a class="headerlink" href="#id43" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <cite>pydantic</cite> 版本小于 2.4，因为2.4有重大变更。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1322">#1322</a></p></li>
</ul>
</section>
</section>
<section id="id45">
<h2>3.1.0 (2023-09-22)<a class="headerlink" href="#id45" title="Link to this heading">#</a></h2>
<section id="id46">
<h3>特性<a class="headerlink" href="#id46" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>已添加对负载自定义编码器/解码器的支持（也适用于深链接）。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1262">#1262</a></p></li>
<li><p>为媒体组构建添加了  <code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.utils.input_media.MediaGroupBuilder</span></code>。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1293">#1293</a></p></li>
<li><p>增加了对 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#september-22-2023">Bot API 6.9</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1319">#1319</a> 的完整支持</p></li>
</ul>
</section>
<section id="id50">
<h3>错误修复<a class="headerlink" href="#id50" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>为 <cite>InlineKeyboardBuilder</cite> 和 <cite>ReplyKeyboardBuilder</cite> 添加了实际参数提示。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1303">#1303</a></p></li>
<li><p>固定了事件隔离的优先级，现在用户状态只有在锁定后才会被加载。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1317">#1317</a></p></li>
</ul>
</section>
</section>
<section id="id53">
<h2>3.0.0 (2023-09-01)<a class="headerlink" href="#id53" title="Link to this heading">#</a></h2>
<section id="id54">
<h3>错误修复<a class="headerlink" href="#id54" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>将 <code class="code docutils literal notranslate"><span class="pre">datetime.datetime</span></code> 替换为 <cite>DateTime</cite> 类型封装器，以使转储的 JSON 对象与通过 Telegram 发送的数据更兼容。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1277">#1277</a></p></li>
<li><p>修正了可解释为 <cite>False</cite> (如 <cite>0</cite>)的值的魔法 <code class="code docutils literal notranslate"><span class="pre">.as_(…)</span></code> 操作。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1281">#1281</a></p></li>
<li><p>utils现在使用正确的装饰符进行斜体标记 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1282">#1282</a></p></li>
<li><p>修复了方法 <code class="code docutils literal notranslate"><span class="pre">Message.send_copy</span></code> 用于贴纸。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1284">#1284</a></p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">Message.send_copy</span></code> 方法，原先在处理故事时出现问题，现在可以成功复制故事（转发消息）了。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1286">#1286</a></p></li>
<li><p>修正了当基本类型和方法中的 remove_unset 根验证器导致验证错误时的错误重叠。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1290">#1290</a></p></li>
</ul>
</section>
</section>
<section id="rc2-2023-08-18">
<h2>3.0.0rc2 (2023-08-18)<a class="headerlink" href="#rc2-2023-08-18" title="Link to this heading">#</a></h2>
<section id="id61">
<h3>错误修复<a class="headerlink" href="#id61" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了丢失的消息内容类型（<code class="code docutils literal notranslate"><span class="pre">ContentType.USER_SHARED</span></code>，<code class="code docutils literal notranslate"><span class="pre">ContentType.CHAT_SHARED</span></code>) <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1252">#1252</a></p></li>
<li><p>修复了嵌套的标签、货币符号和电子邮件消息实体在另一个实体内部时未正确解析的问题。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1259">#1259</a></p></li>
<li><p>将全局过滤器检查放到路由器中，以便在处理程序中像在其他地方一样有机会传递上下文信息 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1266">#1266</a></p></li>
</ul>
</section>
<section id="id65">
<h3>改进的文档<a class="headerlink" href="#id65" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>添加了错误处理示例 <cite>examples/error_handling.py</cite> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1099">#1099</a></p></li>
<li><p>添加了关于跳过待定更新的几句话 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1251">#1251</a></p></li>
<li><p>添加了依赖注入技术部分 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1253">#1253</a></p></li>
<li><p>此更新包括在软件源中添加一个多文件机器人示例。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1254">#1254</a></p></li>
<li><p>重构示例代码以使用aiogram枚举，并通过标记美化增强聊天消息，使其更加用户友好。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1256">#1256</a></p></li>
<li><p>补充迁移常见问题中的 “有限状态机“ 部分 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1264">#1264</a></p></li>
<li><p>TelegramEventObserver 的 filter 方法的文档字符串中删除了额外的参数，并修复了I18n文档中的拼写错误。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1268">#1268</a></p></li>
</ul>
</section>
<section id="id73">
<h3>其他<a class="headerlink" href="#id73" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在分发器中增强了警告消息，当更新类型未知时，包含了更新的 JSON 转储。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1269">#1269</a></p></li>
<li><p>添加了对 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#august-18-2023">Bot API 6.8</a> 的支持 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1275">#1275</a></p></li>
</ul>
</section>
</section>
<section id="rc1-2023-08-06">
<h2>3.0.0rc1 (2023-08-06)<a class="headerlink" href="#rc1-2023-08-06" title="Link to this heading">#</a></h2>
<section id="id76">
<h3>特性<a class="headerlink" href="#id76" title="Link to this heading">#</a></h3>
<ul>
<li><p>添加了货币枚举。您可以像这样使用它：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aiogram.enums</span> <span class="kn">import</span> <span class="n">Currency</span>

<span class="k">await</span> <span class="n">bot</span><span class="o">.</span><span class="n">send_invoice</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="n">currency</span><span class="o">=</span><span class="n">Currency</span><span class="o">.</span><span class="n">USD</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1194">#1194</a></p>
</li>
<li><p>更新了键盘构建器，增加了新的方法，使按钮和键盘的集成更加顺畅。添加了从现有标记创建按钮并附加另一个构建器的功能。这一改进旨在使键盘构建过程更加用户友好和灵活。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1236">#1236</a></p></li>
<li><p>在ChatActionSender中添加了message_thread_id的支持 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1249">#1249</a></p></li>
</ul>
</section>
<section id="id80">
<h3>错误修复<a class="headerlink" href="#id80" title="Link to this heading">#</a></h3>
<ul>
<li><p>修复了手动将 “bot” 键传递到调度程序工作流数据时的轮询启动 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1242">#1242</a></p></li>
<li><p>为丢失的快捷方式添加了代码生成配置：</p>
<ul class="simple">
<li><p>ShippingQuery.answer</p></li>
<li><p>PreCheckoutQuery.answer</p></li>
<li><p>Message.delete_reply_markup</p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1244">#1244</a></p>
</li>
</ul>
</section>
<section id="id83">
<h3>改进的文档<a class="headerlink" href="#id83" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>添加了关于webhook和轮询模式的文档。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1241">#1241</a></p></li>
</ul>
</section>
<section id="id85">
<h3>其他<a class="headerlink" href="#id85" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>重做了 InputFile 读取，删除了 <code class="code docutils literal notranslate"><span class="pre">__aiter__</span></code> 方法，并在 <code class="code docutils literal notranslate"><span class="pre">.read(…)</span></code> 方法中添加了 <cite>bot.Bot</cite> 参数：Bot` 参数到 <code class="code docutils literal notranslate"><span class="pre">.read(…)</span></code> 方法，因此，从现在起 URLInputFile 可以在不指定 bot 实例的情况下使用。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1238">#1238</a></p></li>
<li><p>代码生成的 <code class="code docutils literal notranslate"><span class="pre">__init__</span></code> 类型和方法中的类型提示，使 IDE 无需额外的 pydantic 插件就能满意 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1245">#1245</a></p></li>
</ul>
</section>
</section>
<section id="b9-2023-07-30">
<h2>3.0.0b9 (2023-07-30)<a class="headerlink" href="#b9-2023-07-30" title="Link to this heading">#</a></h2>
<section id="id88">
<h3>特性<a class="headerlink" href="#id88" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>为  <a class="reference internal" href="api/types/chat_member_updated.html#aiogram.types.chat_member_updated.ChatMemberUpdated" title="aiogram.types.chat_member_updated.ChatMemberUpdated"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.types.chat_member_updated.ChatMemberUpdated</span></code></a> 添加了新的快捷方式，用于向聊天室发送成员加入/离开的消息。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1234">#1234</a></p></li>
<li><p>为  <a class="reference internal" href="api/types/chat_join_request.html#aiogram.types.chat_join_request.ChatJoinRequest" title="aiogram.types.chat_join_request.ChatJoinRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.types.chat_join_request.ChatJoinRequest</span></code></a> 添加了新的快捷方式，以便更容易地向想要加入聊天室的用户发送消息。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1235">#1235</a></p></li>
</ul>
</section>
<section id="id91">
<h3>错误修复<a class="headerlink" href="#id91" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 <code class="code docutils literal notranslate"><span class="pre">Message.send_copy</span></code> 快捷方式中修复了机器人分配问题 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1232">#1232</a></p></li>
<li><p>已添加模型验证，以便在字段验证前移除 UNSET。为了正确处理使用 <cite>UNSET</cite> 作为哨兵值的 parse_mode，这一更改是必要的。如果不移除 <cite>UNSET</cite> ，从 Bot.method_name 传递到模型初始化时就会产生问题。 <cite>UNSET</cite> 也被添加到键入中。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1233">#1233</a></p></li>
<li><p>将pydantic更新至2.1，并修复了一些bug</p></li>
</ul>
</section>
<section id="id94">
<h3>改进的文档<a class="headerlink" href="#id94" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>改进文档，添加基本迁移指南（稍后将扩展） <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1143">#1143</a></p></li>
</ul>
</section>
<section id="deprecations-and-removals">
<h3>弃用和移除<a class="headerlink" href="#deprecations-and-removals" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>从以前使用过的所有位置中移除对上下文实例 (Bot.get_current) 的使用。这是为了避免在错误的地方使用上下文实例。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1230">#1230</a></p></li>
</ul>
</section>
</section>
<section id="b8-2023-07-17">
<h2>3.0.0b8 (2023-07-17)<a class="headerlink" href="#b8-2023-07-17" title="Link to this heading">#</a></h2>
<section id="id97">
<h3>特性<a class="headerlink" href="#id97" title="Link to this heading">#</a></h3>
<ul>
<li><p>在路由器中添加了使用自定义事件的可能性（如果路由器不支持自定义事件，它不会中断，并将其传递给包含的路由器）。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/1147">#1147</a></p></li>
<li><p>为论坛主题添加了对FSM的支持。</p>
<p>策略可以在分发器中更改：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aiogram.fsm.strategy</span> <span class="kn">import</span> <span class="n">FSMStrategy</span>
<span class="o">...</span>
<span class="n">dispatcher</span> <span class="o">=</span> <span class="n">Dispatcher</span><span class="p">(</span>
    <span class="n">fsm_strategy</span><span class="o">=</span><span class="n">FSMStrategy</span><span class="o">.</span><span class="n">USER_IN_TOPIC</span><span class="p">,</span>
    <span class="n">storage</span><span class="o">=...</span><span class="p">,</span>  <span class="c1"># Any persistent storage</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>如果您已经实现了您自己的存储，您应该通过新的属性扩展记录键生成 - <code class="code docutils literal notranslate"><span class="pre">thread_id</span></code></p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1161">#1161</a></p>
</li>
<li><p>改进了回调数据的序列化。</p>
<ul class="simple">
<li><p>缩小的 UUID（十六进制，没有破折号）</p></li>
<li><p>用整数替换布尔值（true=1, false=0）</p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1163">#1163</a></p>
</li>
<li><p>添加了一个工具，使文本格式灵活且易于使用。有关更多详细信息，请参阅 <a class="reference internal" href="utils/formatting.html#formatting-tool"><span class="std std-ref">相应的文档页面</span></a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1172">#1172</a></p></li>
<li><p>添加了 <code class="code docutils literal notranslate"><span class="pre">X-Telegram-Bot-Api-Secret-Token</span></code> 标头检查 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1173">#1173</a></p></li>
<li><p>将 <code class="code docutils literal notranslate"><span class="pre">allowed_updates</span></code> 列表在 start_polling 方法中自动循环，如果未明确设置。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1178">#1178</a></p></li>
<li><p>新增了将自定义头部传递给 <code class="xref py py-class docutils literal notranslate"><span class="pre">URLInputFile</span></code> 对象的可能性 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1191">#1191</a></p></li>
</ul>
</section>
<section id="id105">
<h3>错误修复<a class="headerlink" href="#id105" title="Link to this heading">#</a></h3>
<ul>
<li><p>在InlineQueryResult枚举的结果类型中，将InlineQueryResultCachedMpeg4Gif和InlineQueryResultMpeg4Gif的类型更改为更符合文档的正确类型。</p>
<p>更改用于实体解析的正则表达式为更正确的 (<code class="code docutils literal notranslate"><span class="pre">InlineQueryResultType.yml</span></code>). <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1146">#1146</a></p>
</li>
<li><p>修复了启动/关闭事件的签名，以包括 <cite>**dispatcher.workflow_data</cite> 作为处理程序参数。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1155">#1155</a></p></li>
<li><p>将缺失的 <code class="code docutils literal notranslate"><span class="pre">FORUM_TOPIC_EDITED</span></code> 值添加到 content_type 属性中 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1160">#1160</a></p></li>
<li><p>已修复与Python 3.8-3.9的兼容性（来自之前的版本） <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1162">#1162</a></p></li>
<li><p>修复了Markdown中的隐藏文本解析器。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1176">#1176</a></p></li>
<li><p>修正的工作流数据传播 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1196">#1196</a></p></li>
<li><p>修复了与InputMedia、ChatMember等嵌套子类型相关的序列化错误。</p>
<p>先前生成的代码在pydantic v2下产生了一个无效的模式，它具有更严格的类型解析。因此，在没有指定所有子类型联合的情况下生成空对象。现在这个问题已经得到了解决。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1213">#1213</a></p>
</li>
</ul>
</section>
<section id="id113">
<h3>改进的文档<a class="headerlink" href="#id113" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修改了 <code class="code docutils literal notranslate"><span class="pre">upload_file</span></code> 的小语法错误 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1133">#1133</a></p></li>
</ul>
</section>
<section id="id115">
<h3>弃用和移除<a class="headerlink" href="#id115" title="Link to this heading">#</a></h3>
<ul>
<li><p>因为计划在几个版本前删除此过滤器，所以已经删除了文本过滤器。</p>
<p>使用 <code class="code docutils literal notranslate"><span class="pre">F.text</span></code> 而不是 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1170">#1170</a></p>
</li>
</ul>
</section>
<section id="id117">
<h3>其他<a class="headerlink" href="#id117" title="Link to this heading">#</a></h3>
<ul>
<li><p>完全支持了 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#march-9-2023">Bot API 6.6</a></p>
<div class="admonition danger">
<p class="admonition-title">危险</p>
<p>Note that this issue has breaking changes described in the Bot API changelog,
this changes is not breaking in the API but breaking inside aiogram because
Beta stage is not finished.</p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1139">#1139</a></p>
</li>
<li><p>完全支持 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#april-21-2023">Bot API 6.7</a></p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>请注意参数 <em>switch_pm_parameter</em> 和 <em>switch_pm_text</em> 已被弃用，应根据 API 文档中描述更改为 <em>button</em> 参数。</p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1168">#1168</a></p>
</li>
<li><p>更新后的 <a class="reference external" href="https://docs.pydantic.dev/2.0/migration/">Pydantic 到 V2</a></p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>小心，不是所有的库都已经更新到使用 V2</p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1202">#1202</a></p>
</li>
<li><p>在Bot实例中添加了全局默认值 <code class="code docutils literal notranslate"><span class="pre">disable_web_page_preview</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">protect_content</span></code>，以及 <code class="code docutils literal notranslate"><span class="pre">parse_mode</span></code>，重新设计了内部请求构建器机制。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1142">#1142</a></p></li>
<li><p>已从存储中删除了机器人参数 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1144">#1144</a></p></li>
<li><p>用Pydantic中的新功能 <a class="reference external" href="https://docs.pydantic.dev/latest/usage/validators/#validation-context">验证上下文</a> 替换了ContextVar，以提高处理Bot实例在方法快捷方式中的清晰度、可用性和多功能性。</p>
<div class="admonition danger">
<p class="admonition-title">危险</p>
<p><strong>Breaking</strong>: ‘bot’ 参数现在在 <cite>URLInputFile</cite> 中是必需的</p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1210">#1210</a></p>
</li>
<li><p>更新了带有新功能的魔术过滤器</p>
<ul class="simple">
<li><p>为 <code class="code docutils literal notranslate"><span class="pre">len(F)</span></code> 错误添加了提示</p></li>
<li><p>操作中添加的非</p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1221">#1221</a></p>
</li>
</ul>
</section>
</section>
<section id="b7-2023-02-18">
<h2>3.0.0b7 (2023-02-18)<a class="headerlink" href="#b7-2023-02-18" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>请注意，在创建调度程序的实例时，此版本与Python 3.8-3.9不兼容，特别是当你在任何协程之外创建调度程序的实例时。</p>
<p>抱歉造成的不便，将会在下一个版本中修复。</p>
<p>这段代码是无法工作的：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dp</span> <span class="o">=</span> <span class="n">Dispatcher</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="n">dp</span><span class="o">.</span><span class="n">run_polling</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>但是如果你把它改成这样，也应该能正常工作：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">router</span> <span class="o">=</span> <span class="n">Router</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">dp</span> <span class="o">=</span> <span class="n">Dispatcher</span><span class="p">()</span>
    <span class="n">dp</span><span class="o">.</span><span class="n">include_router</span><span class="p">(</span><span class="n">router</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="n">dp</span><span class="o">.</span><span class="n">start_polling</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
<section id="id125">
<h3>特性<a class="headerlink" href="#id125" title="Link to this heading">#</a></h3>
<ul>
<li><p>添加了缺失的快捷方式，新的枚举，重新设计了旧的东西</p>
<p><strong>Breaking</strong> 所有先前添加的枚举都在新位置重新生成 - <cite>aiogram.enums</cite> 而不是 <cite>aiogram.types</cite></p>
<dl class="simple">
<dt><strong>新增的枚举:</strong> <a class="reference internal" href="api/enums/bot_command_scope_type.html#aiogram.enums.bot_command_scope_type.BotCommandScopeType" title="aiogram.enums.bot_command_scope_type.BotCommandScopeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.bot_command_scope_type.BotCommandScopeType</span></code></a>,</dt><dd><p><a class="reference internal" href="api/enums/chat_action.html#aiogram.enums.chat_action.ChatAction" title="aiogram.enums.chat_action.ChatAction"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.chat_action.ChatAction</span></code></a>,
<a class="reference internal" href="api/enums/chat_member_status.html#aiogram.enums.chat_member_status.ChatMemberStatus" title="aiogram.enums.chat_member_status.ChatMemberStatus"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.chat_member_status.ChatMemberStatus</span></code></a>,
<a class="reference internal" href="api/enums/chat_type.html#aiogram.enums.chat_type.ChatType" title="aiogram.enums.chat_type.ChatType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.chat_type.ChatType</span></code></a>,
<a class="reference internal" href="api/enums/content_type.html#aiogram.enums.content_type.ContentType" title="aiogram.enums.content_type.ContentType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.content_type.ContentType</span></code></a>,
<a class="reference internal" href="api/enums/dice_emoji.html#aiogram.enums.dice_emoji.DiceEmoji" title="aiogram.enums.dice_emoji.DiceEmoji"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.dice_emoji.DiceEmoji</span></code></a>,
<a class="reference internal" href="api/enums/inline_query_result_type.html#aiogram.enums.inline_query_result_type.InlineQueryResultType" title="aiogram.enums.inline_query_result_type.InlineQueryResultType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.inline_query_result_type.InlineQueryResultType</span></code></a>,
<a class="reference internal" href="api/enums/input_media_type.html#aiogram.enums.input_media_type.InputMediaType" title="aiogram.enums.input_media_type.InputMediaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.input_media_type.InputMediaType</span></code></a>,
<a class="reference internal" href="api/enums/mask_position_point.html#aiogram.enums.mask_position_point.MaskPositionPoint" title="aiogram.enums.mask_position_point.MaskPositionPoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.mask_position_point.MaskPositionPoint</span></code></a>,
<a class="reference internal" href="api/enums/menu_button_type.html#aiogram.enums.menu_button_type.MenuButtonType" title="aiogram.enums.menu_button_type.MenuButtonType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.menu_button_type.MenuButtonType</span></code></a>,
<a class="reference internal" href="api/enums/message_entity_type.html#aiogram.enums.message_entity_type.MessageEntityType" title="aiogram.enums.message_entity_type.MessageEntityType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.message_entity_type.MessageEntityType</span></code></a>,
<a class="reference internal" href="api/enums/parse_mode.html#aiogram.enums.parse_mode.ParseMode" title="aiogram.enums.parse_mode.ParseMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.parse_mode.ParseMode</span></code></a>,
<a class="reference internal" href="api/enums/poll_type.html#aiogram.enums.poll_type.PollType" title="aiogram.enums.poll_type.PollType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.poll_type.PollType</span></code></a>,
<a class="reference internal" href="api/enums/sticker_type.html#aiogram.enums.sticker_type.StickerType" title="aiogram.enums.sticker_type.StickerType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.sticker_type.StickerType</span></code></a>,
<a class="reference internal" href="api/enums/topic_icon_color.html#aiogram.enums.topic_icon_color.TopicIconColor" title="aiogram.enums.topic_icon_color.TopicIconColor"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.topic_icon_color.TopicIconColor</span></code></a>,
<a class="reference internal" href="api/enums/update_type.html#aiogram.enums.update_type.UpdateType" title="aiogram.enums.update_type.UpdateType"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.enums.update_type.UpdateType</span></code></a>,</p>
</dd>
</dl>
<p>增加了快捷方式:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Chat: <a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.get_administrators" title="aiogram.types.chat.Chat.get_administrators"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.get_administrators()</span></code></a>,</dt><dd><p><a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.delete_message" title="aiogram.types.chat.Chat.delete_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.delete_message()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.revoke_invite_link" title="aiogram.types.chat.Chat.revoke_invite_link"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.revoke_invite_link()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.edit_invite_link" title="aiogram.types.chat.Chat.edit_invite_link"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.edit_invite_link()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.create_invite_link" title="aiogram.types.chat.Chat.create_invite_link"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.create_invite_link()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.export_invite_link" title="aiogram.types.chat.Chat.export_invite_link"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.export_invite_link()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.do" title="aiogram.types.chat.Chat.do"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.do()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.delete_sticker_set" title="aiogram.types.chat.Chat.delete_sticker_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.delete_sticker_set()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.set_sticker_set" title="aiogram.types.chat.Chat.set_sticker_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.set_sticker_set()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.get_member" title="aiogram.types.chat.Chat.get_member"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.get_member()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.get_member_count" title="aiogram.types.chat.Chat.get_member_count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.get_member_count()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.leave" title="aiogram.types.chat.Chat.leave"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.leave()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.unpin_all_messages" title="aiogram.types.chat.Chat.unpin_all_messages"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.unpin_all_messages()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.unpin_message" title="aiogram.types.chat.Chat.unpin_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.unpin_message()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.pin_message" title="aiogram.types.chat.Chat.pin_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.pin_message()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.set_administrator_custom_title" title="aiogram.types.chat.Chat.set_administrator_custom_title"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.set_administrator_custom_title()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.set_permissions" title="aiogram.types.chat.Chat.set_permissions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.set_permissions()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.promote" title="aiogram.types.chat.Chat.promote"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.promote()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.restrict" title="aiogram.types.chat.Chat.restrict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.restrict()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.unban" title="aiogram.types.chat.Chat.unban"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.unban()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.ban" title="aiogram.types.chat.Chat.ban"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.ban()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.set_description" title="aiogram.types.chat.Chat.set_description"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.set_description()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.set_title" title="aiogram.types.chat.Chat.set_title"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.set_title()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.delete_photo" title="aiogram.types.chat.Chat.delete_photo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.delete_photo()</span></code></a>,
<a class="reference internal" href="api/types/chat.html#aiogram.types.chat.Chat.set_photo" title="aiogram.types.chat.Chat.set_photo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.chat.Chat.set_photo()</span></code></a>,</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>Sticker</em>: <a class="reference internal" href="api/types/sticker.html#aiogram.types.sticker.Sticker.set_position_in_set" title="aiogram.types.sticker.Sticker.set_position_in_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.sticker.Sticker.set_position_in_set()</span></code></a>,</dt><dd><p><a class="reference internal" href="api/types/sticker.html#aiogram.types.sticker.Sticker.delete_from_set" title="aiogram.types.sticker.Sticker.delete_from_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.sticker.Sticker.delete_from_set()</span></code></a>,</p>
</dd>
</dl>
</li>
<li><p><em>User</em>: <a class="reference internal" href="api/types/user.html#aiogram.types.user.User.get_profile_photos" title="aiogram.types.user.User.get_profile_photos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiogram.types.user.User.get_profile_photos()</span></code></a></p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/952">#952</a></p>
</li>
<li><p>添加了 <a class="reference internal" href="utils/callback_answer.html#callback-answer-util"><span class="std std-ref">callback answer</span></a> 功能 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1091">#1091</a></p></li>
<li><p>添加了一种方法，允许您紧凑地注册路由器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1117">＃1117</a></p></li>
</ul>
</section>
<section id="id129">
<h3>错误修复<a class="headerlink" href="#id129" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>检查下载文件 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/816">#816</a> 时的状态码</p></li>
<li><p>修复了 <a class="reference internal" href="dispatcher/filters/command.html#aiogram.filters.command.Command" title="aiogram.filters.command.Command"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aiogram.filters.command.Command</span></code></a> 过滤器中的 <cite>ignore_case</cite> 参数 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1106">#1106</a></p></li>
</ul>
</section>
<section id="id132">
<h3>其他<a class="headerlink" href="#id132" title="Link to this heading">#</a></h3>
<ul>
<li><p>与名为 <a class="reference external" href="https://github.com/aiogram/butcher">Butcher</a> 的新代码生成器集成。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1069">#1069</a></p></li>
<li><p>完全支持 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#december-30-2022">Bot API 6.4</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1088">#1088</a></p></li>
<li><p>更新的软件包元数据，将构建内部从Poetry移到Hatch，增加了贡献指南。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1095">#1095</a></p></li>
<li><p>增加对 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#february-3-2023">Bot API 6.5</a> 的完整支持</p>
<div class="admonition danger">
<p class="admonition-title">危险</p>
<p>请注意 <a class="reference internal" href="api/types/chat_permissions.html#aiogram.types.chat_permissions.ChatPermissions" title="aiogram.types.chat_permissions.ChatPermissions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aiogram.types.chat_permissions.ChatPermissions</span></code></a> 已更新，不兼容向后，因此此对象现在没有 <code class="code docutils literal notranslate"><span class="pre">can_send_media_messages</span></code> 属性</p>
</div>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1112">#1112</a></p>
</li>
<li><p>替换了错误 <code class="code docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">TelegramEventObserver.__call__()</span> <span class="pre">got</span> <span class="pre">an</span> <span class="pre">unexpected</span> <span class="pre">keyword</span> <span class="pre">argument</span> <span class="pre">'&lt;name&gt;'</span></code> 为更容易理解的错误信息，同时附带了指向文档的链接。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1114">#1114</a></p></li>
<li><p>增加了通过Webhook回复带有文件的可能性 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1120">#1120</a></p></li>
<li><p>重新设计了优雅的关闭。添加了停止轮询的方法。现在可以通过信号优雅地停止从调度程序开始的轮询，而不会出现错误（在Linux和Mac上）。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1124">#1124</a></p></li>
</ul>
</section>
</section>
<section id="b6-2022-11-18">
<h2>3.0.0b6（2022年11月18日）<a class="headerlink" href="#b6-2022-11-18" title="Link to this heading">#</a></h2>
<section id="id140">
<h3>特性<a class="headerlink" href="#id140" title="Link to this heading">#</a></h3>
<ul>
<li><p>(再次)增加了使用 <em>and</em>/<em>or</em> 操作符组合筛选器的可能性。</p>
<p>在“<a class="reference internal" href="dispatcher/filters/index.html#combining-filters"><span class="std std-ref">Combining filters</span></a>”文档部分中阅读更多内容 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1018">#1018</a></p>
</li>
<li><p>为 <code class="docutils literal notranslate"><span class="pre">Message</span></code> 类添加了以下方法：</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.forward(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.edit_media(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.edit_live_location(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.stop_live_location(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.pin(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.unpin()</span></code></p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1030">#1030</a></p>
</li>
<li><p>为 <code class="code docutils literal notranslate"><span class="pre">User</span></code> 类添加了以下方法：</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">User.mention_markdown(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">User.mention_html(…)</span></code></p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1049">#1049</a></p>
</li>
<li><p>添加了对 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#november-5-2022">Bot API 6.3</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1057">#1057</a> 的完全支持</p></li>
</ul>
</section>
<section id="id145">
<h3>错误修复<a class="headerlink" href="#id145" title="Link to this heading">#</a></h3>
<ul>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">Message.send_invoice</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">Message.reply_invoice</span></code>，添加了丢失的参数 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1047">#1047</a></p></li>
<li><p>修复了复制和转发功能：</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.answer(…)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Message.copy_to(…)</span></code></p></li>
</ul>
<p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/1064">#1064</a></p>
</li>
</ul>
</section>
<section id="id148">
<h3>改进的文档<a class="headerlink" href="#id148" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 index.po 中修复了 UA 翻译 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1017">#1017</a></p></li>
<li><p>修复 <code class="code docutils literal notranslate"><span class="pre">Message</span></code>, <code class="code docutils literal notranslate"><span class="pre">reply_media_group</span></code> 以及 <code class="code docutils literal notranslate"><span class="pre">answer_media_group</span></code> 方法的类型标注 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1029">#1029</a></p></li>
<li><p>移除了一个旧的现在不起作用的功能 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1060">#1060</a></p></li>
</ul>
</section>
<section id="id152">
<h3>其他<a class="headerlink" href="#id152" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>在 Python 3.11 上启用了测试 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1044">#1044</a></p></li>
<li><p>由于在某些情况下，没有更新ca证书的系统上对Bot API的请求会因为 <code class="code docutils literal notranslate"><span class="pre">[SSL:</span> <span class="pre">CERTIFICATE_VERIFY_FAILED]</span> <span class="pre">certificate</span> <span class="pre">verify</span> <span class="pre">failed:</span> <span class="pre">self</span> <span class="pre">signed</span> <span class="pre">certificate</span> <span class="pre">in</span> <span class="pre">certificate</span> <span class="pre">chain</span></code> 而失败，因此添加了一个必需的依赖 <code class="code docutils literal notranslate"><span class="pre">certifi</span></code>。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1066">#1066</a></p></li>
</ul>
</section>
</section>
<section id="b5-2022-10-02">
<h2>3.0.0b5 (2022-10-02)<a class="headerlink" href="#b5-2022-10-02" title="Link to this heading">#</a></h2>
<section id="id155">
<h3>特性<a class="headerlink" href="#id155" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>增加对PyPy的支持并在PyPy下运行测试 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/985">#985</a></p></li>
<li><p>将消息文本添加到aiogram异常表示 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/988">#988</a></p></li>
<li><p>提醒使用 <cite>magic_filter</cite> 而不是 <cite>aiogram</cite> 的魔术过滤器。建议使用 <cite>from aiogram import F</cite> 而不是 <cite>from magic_filter import F</cite> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/990">#990</a></p></li>
<li><p>当服务器响应无法被反序列化时，添加了更详细的错误。 这个功能将有助于调试来自服务器的意外响应。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1014">#1014</a></p></li>
</ul>
</section>
<section id="id160">
<h3>错误修复<a class="headerlink" href="#id160" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>重做了错误事件，引入了  <a class="reference internal" href="dispatcher/errors.html#aiogram.types.error_event.ErrorEvent" title="aiogram.types.error_event.ErrorEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiogram.types.error_event.ErrorEvent</span></code></a> 对象。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/898">#898</a></p></li>
<li><p>修正了在 <cite>aiogram.utils.markdown</cite> 模块中的 markdown 转义问题 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/903">#903</a></p></li>
<li><p>修复了当Telegram Bot API返回HTTP 429状态码时，使长时间轮询崩溃的问题。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/995">#995</a></p></li>
<li><p>修复了命令解析中的空&#64;提及，现在将是None而不是空字符串 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/1013">#1013</a></p></li>
</ul>
</section>
<section id="id165">
<h3>改进的文档<a class="headerlink" href="#id165" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>初始化文档翻译（添加了乌克兰语） <a class="reference external" href="https://github.com/aiogram/aiogram/issues/925">＃925</a></p></li>
</ul>
</section>
<section id="id167">
<h3>弃用和移除<a class="headerlink" href="#id167" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>根据相关问题描述，移除了过滤器工厂。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/942">#942</a></p></li>
</ul>
</section>
<section id="id169">
<h3>其他<a class="headerlink" href="#id169" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>现在 Router/Dispatcher 只接受关键字参数。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/982">#982</a></p></li>
</ul>
</section>
</section>
<section id="b4-2022-08-14">
<h2>3.0.0b4 (2022-08-14)<a class="headerlink" href="#b4-2022-08-14" title="Link to this heading">#</a></h2>
<section id="id171">
<h3>特性<a class="headerlink" href="#id171" title="Link to this heading">#</a></h3>
<ul>
<li><p>为 Telegram BotAPI 在 sendChatAction 请求中使用的常量添加类帮助程序 ChatAction。在我看来，这将帮助用户，并且还将提高与 2.x 版本的兼容性，其中类似的类被称为“ChatActions”。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/803">#803</a></p></li>
<li><p>增加了将过滤器组合或反转结果的可能性</p>
<p>示例：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;demo&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">Command</span><span class="p">(</span><span class="n">commands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;demo&quot;</span><span class="p">])</span>
<span class="n">MyFilter</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">AnotherFilter</span><span class="p">()</span>
<span class="o">~</span><span class="n">StateFilter</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;my-state&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>#894 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/894">https://github.com/aiogram/aiogram/issues/894</a>&gt;</p>
</li>
<li><p>Fixed type hints for redis TTL params.
<a class="reference external" href="https://github.com/aiogram/aiogram/issues/922">#922</a></p></li>
<li><p>为“Chat”对象添加了“full_name”快捷方式`#929 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/929">https://github.com/aiogram/aiogram/issues/929</a>&gt;`_</p></li>
</ul>
</section>
<section id="id176">
<h3>错误修复<a class="headerlink" href="#id176" title="Link to this heading">#</a></h3>
<ul>
<li><p>API方法中的联合类型强制转换的误报问题已经修复。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/901">#901</a></p></li>
<li><p>增加了3个缺失的内容类型：</p>
<ul class="simple">
<li><p>接近警报触发</p></li>
<li><p>超级群创建</p></li>
<li><p>频道聊天创建</p></li>
</ul>
<p>#906 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/906">https://github.com/aiogram/aiogram/issues/906</a>&gt;</p>
</li>
<li><p>修复了比较状态的能力，现在对状态的副本进行比较将返回`True`。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/927">#927</a></p></li>
<li><p>修复了 RedisEventIsolation 中锁定参数的默认设置。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/972">#972</a></p></li>
</ul>
</section>
<section id="id181">
<h3>其他<a class="headerlink" href="#id181" title="Link to this heading">#</a></h3>
<ul>
<li><p>限制包括带有字符串 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/896">#896</a></p></li>
<li><p>将CommandPatterType改为CommandPatternType在`aiogram/dispatcher/filters/command.py`中 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/907">#907</a></p></li>
<li><p>完整支持了 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#june-20-2022">Bot API 6.1</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/936">#936</a> 的新增</p></li>
<li><p>緊急消息！更扁平的項目結構</p>
<p>这些包已经移动，你的代码中的导入应该被修复：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">aiogram.dispatcher.filters</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">aiogram.filters</span></code></p></li>
<li><p>code:<cite>aiogram.dispatcher.fsm</cite> -&gt; code:<cite>aiogram.fsm</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aiogram.dispatcher.handler</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">aiogram.handler</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`aiogram.dispatcher.webhook`</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">`aiogram.webhook`</span></code></p></li>
<li><p><cite>aiogram.dispatcher.flags/*</cite> -&gt; <code class="code docutils literal notranslate"><span class="pre">aiogram.dispatcher.flags</span></code> (单一模块而不是包)</p></li>
</ul>
<p>#938 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/938">https://github.com/aiogram/aiogram/issues/938</a>&gt;</p>
</li>
<li><p>移除了已弃用的 <code class="code docutils literal notranslate"><span class="pre">router.&lt;event&gt;_handler</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">router.register_&lt;event&gt;_handler</span></code> 方法。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/941">#941</a></p></li>
<li><p>已弃用的过滤器工厂。它将在下一个 Beta (3.0b5) <a class="reference external" href="https://github.com/aiogram/aiogram/issues/942">#942</a> 中删除</p></li>
<li><p><cite>MessageEntity</cite> 方法 <cite>get_text</cite> 被移除，<cite>extract</cite> 被重命名为 <cite>extract_from</cite> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/944">#944</a></p></li>
<li><p>完全支持了`Bot API 6.2 &lt;<a class="reference external" href="https://core.telegram.org/bots/api-changelog#august-12-2022">https://core.telegram.org/bots/api-changelog#august-12-2022</a>&gt;`_ <a class="reference external" href="https://github.com/aiogram/aiogram/issues/975">#975</a></p></li>
</ul>
</section>
</section>
<section id="b3-2022-04-19">
<h2>3.0.0b3 (2022-04-19)<a class="headerlink" href="#b3-2022-04-19" title="Link to this heading">#</a></h2>
<section id="id190">
<h3>特性<a class="headerlink" href="#id190" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>增加了作为处理程序参数获取命令魔术结果的可能性 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/889">#889</a></p></li>
<li><p>完整支持`Telegram Bot API 6.0 &lt;<a class="reference external" href="https://core.telegram.org/bots/api-changelog#april-16-2022">https://core.telegram.org/bots/api-changelog#april-16-2022</a>&gt;`_ <a class="reference external" href="https://github.com/aiogram/aiogram/issues/890">#890</a></p></li>
</ul>
</section>
<section id="id193">
<h3>错误修复<a class="headerlink" href="#id193" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了I18n延迟代理。禁用了缓存。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/839">#839</a></p></li>
<li><p>增加了对spoiler消息实体的解析 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/865">#865</a></p></li>
<li><p>修复了`Message.copy_to()`方法的默认`parse_mode`。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/876">#876</a></p></li>
<li><p>修复了CallbackData工厂解析IntEnum’s <a class="reference external" href="https://github.com/aiogram/aiogram/issues/885">#885</a></p></li>
</ul>
</section>
<section id="id198">
<h3>其他<a class="headerlink" href="#id198" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>已添加自动检查，以确保拉取请求在**CHANGES**目录中添加了变更描述 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/873">#873</a></p></li>
<li><p>更改了 <code class="code docutils literal notranslate"><span class="pre">Message.html_text</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">Message.md_text</span></code> 属性的行为，当消息没有文本时。将使用空字符串而不是引发错误。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/874">#874</a></p></li>
<li><p>由于这个包已经合并成一个，所以使用 <cite>redis-py</cite> 而不是 <cite>aioredis</cite> 包。 #882 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/882">https://github.com/aiogram/aiogram/issues/882</a>&gt;</p></li>
<li><p>解决了中间件的常见命名问题，这会让开发者感到混乱-现在你在同一个地方不能再看到`middleware`和`middlewares`属性，因为这个功能已经封装到了特殊的接口中。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/883">#883</a></p></li>
</ul>
</section>
</section>
<section id="b2-2022-02-19">
<h2>3.0.0b2 (2022-02-19)<a class="headerlink" href="#b2-2022-02-19" title="Link to this heading">#</a></h2>
<section id="id203">
<h3>特性<a class="headerlink" href="#id203" title="Link to this heading">#</a></h3>
<ul>
<li><p>增加了将额外的参数传递到aiohttp webhook处理程序中的可能性，以便在处理程序内部使用这些参数，就像在轮询模式中可能的那样。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/785">#785</a></p></li>
<li><p>通过装饰器添加处理程序标志的可能性（类似于`pytest.mark`装饰器，但是`aiogram.flags`）`#836 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/836">https://github.com/aiogram/aiogram/issues/836</a>&gt;`_</p></li>
<li><p>添加了 <code class="code docutils literal notranslate"><span class="pre">ChatActionSender</span></code> 实用程序，在长时间运行的过程中自动发送聊天动作。</p>
<p>它也可以用作消息中间件，并且可以通过 <code class="code docutils literal notranslate"><span class="pre">chat_action</span></code> 标志进行定制。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/837">#837</a></p>
</li>
</ul>
</section>
<section id="id207">
<h3>错误修复<a class="headerlink" href="#id207" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>StateFilter中序列的意外行为已修复。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/791">#791</a></p></li>
<li><p>修正了异常筛选器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/827">#827</a></p></li>
</ul>
</section>
<section id="id210">
<h3>其他<a class="headerlink" href="#id210" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>用于处理事件的记录器名称已更改为:code:<cite>aiogram.events</cite>。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/830">#830</a></p></li>
<li><p>完全支持Telegram Bot API 5.6和5.7的增加`#835 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/835">https://github.com/aiogram/aiogram/issues/835</a>&gt;`_</p></li>
<li><p><strong>重大消息</strong> 事件隔离机制已从FSM存储迁移至独立管理器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/838">#838</a></p></li>
</ul>
</section>
</section>
<section id="b1-2021-12-12">
<h2>3.0.0b1（2021年12月12日）<a class="headerlink" href="#b1-2021-12-12" title="Link to this heading">#</a></h2>
<section id="id214">
<h3>特性<a class="headerlink" href="#id214" title="Link to this heading">#</a></h3>
<ul>
<li><p>为MagicFilter添加了名为:code:<a href="#id1"><span class="problematic" id="id2">`</span></a>as_`的新自定义操作</p>
<p>现在您可以使用它作为处理程序参数来获得魔法过滤器结果</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aiogram</span> <span class="kn">import</span> <span class="n">F</span>

<span class="o">...</span>

<span class="nd">@router</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">regexp</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(\d+)$&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_</span><span class="p">(</span><span class="s2">&quot;digits&quot;</span><span class="p">))</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">any_digits_handler</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">digits</span><span class="p">:</span> <span class="n">Match</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
    <span class="k">await</span> <span class="n">message</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">digits</span><span class="p">)))</span>


<span class="nd">@router</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">photo</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">as_</span><span class="p">(</span><span class="s2">&quot;photo&quot;</span><span class="p">))</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">download_photos_handler</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">photo</span><span class="p">:</span> <span class="n">PhotoSize</span><span class="p">,</span> <span class="n">bot</span><span class="p">:</span> <span class="n">Bot</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="k">await</span> <span class="n">bot</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
</pre></div>
</div>
<p>#759 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/759">https://github.com/aiogram/aiogram/issues/759</a>&gt;`_</p>
</li>
</ul>
</section>
<section id="id216">
<h3>错误修复<a class="headerlink" href="#id216" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复：在`aiogram/dispatcher/handler`中缺少了`ChatMemberHandler`的引入 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/751">#751</a></p></li>
</ul>
</section>
<section id="id218">
<h3>其他<a class="headerlink" href="#id218" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>请检查RedisStorage键生成器中的:code:<cite>destiny</cite>，以防没有启用:code:<cite>with_destiny</cite>。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/776">#776</a></p></li>
<li><p>已经完全支持 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#december-7-2021">Bot API 5.5</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/777">#777</a></p></li>
<li><p>停止使用功能 #336。从现在开始，客户端会话的设置应该作为初始化参数放置，而不是改变实例属性。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/778">#778</a></p></li>
<li><p>让TelegramAPIServer文件包装在本地模式下进行双向（服务器-客户端，客户端-服务器）操作。现在可以将本地路径转换为服务器路径，以及将服务器路径转换为本地路径。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/779">#779</a></p></li>
</ul>
</section>
</section>
<section id="a18-2021-11-10">
<h2>3.0.0a18 (2021-11-10)<a class="headerlink" href="#a18-2021-11-10" title="Link to this heading">#</a></h2>
<section id="id223">
<h3>特性<a class="headerlink" href="#id223" title="Link to this heading">#</a></h3>
<ul>
<li><p>Breaking: 改变了会话中间件的签名 Breaking: 将 AiohttpSession.make_request 方法参数从 call 重命名为 method，以匹配基类中的命名 添加了用于记录输出请求的中间件 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/716">#716</a></p></li>
<li><p>改进了对筛选器解析错误的描述。例如，当您尝试将错误类型的参数传递给筛选器，但不知道为什么筛选器未解析时，现在您可以收到这样的错误：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">aiogram</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">FiltersResolveError</span><span class="p">:</span> <span class="n">Unknown</span> <span class="n">keyword</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;content_types&#39;</span><span class="p">}</span>
  <span class="n">Possible</span> <span class="n">cases</span><span class="p">:</span>
  <span class="o">-</span> <span class="mi">1</span> <span class="n">validation</span> <span class="n">error</span> <span class="k">for</span> <span class="n">ContentTypesFilter</span>
    <span class="n">content_types</span>
      <span class="n">Invalid</span> <span class="n">content</span> <span class="n">types</span> <span class="p">{</span><span class="s1">&#39;42&#39;</span><span class="p">}</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">allowed</span> <span class="n">here</span> <span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">value_error</span><span class="p">)</span>
</pre></div>
</div>
<p>#717 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/717">https://github.com/aiogram/aiogram/issues/717</a>&gt;</p>
</li>
<li><p>内部API变化
重新设计的FSM存储记录键传播`#723 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/723">https://github.com/aiogram/aiogram/issues/723</a>&gt;`_</p></li>
<li><p>实现了名为:code:<a href="#id1"><span class="problematic" id="id2">`</span></a>MagicData(magic_data)`的新过滤器，可帮助通过中间件或其他过滤器的数据来过滤事件</p>
<p>例如，你的机器人正在运行，使用名为 <code class="code docutils literal notranslate"><span class="pre">config</span></code> 的参数，其中包含应用程序配置，然后你可以通过这个配置的值对事件进行筛选：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@router</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="n">magic_data</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">from_user</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">F</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">admin_id</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<p>#724 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/724">https://github.com/aiogram/aiogram/issues/724</a>&gt;</p>
</li>
</ul>
</section>
<section id="id228">
<h3>错误修复<a class="headerlink" href="#id228" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了错误处理程序中的 I18n 上下文 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/726">#726</a></p></li>
<li><p>修复了在发出关闭之前bot会话关闭的问题`#734 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/734">https://github.com/aiogram/aiogram/issues/734</a>&gt;`_</p></li>
<li><p>修复：绑定过滤器解析不需要子路由器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/736">#736</a></p></li>
</ul>
</section>
<section id="id232">
<h3>其他<a class="headerlink" href="#id232" title="Link to this heading">#</a></h3>
<ul>
<li><p>在Python 3.10上启用了测试，移除了`async_lru`依赖项（与Python 3.10不兼容），并用保护属性替换了使用`#719 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/719">https://github.com/aiogram/aiogram/issues/719</a>&gt;`_</p></li>
<li><p>将 README.md 转换为 README.rst 并将其用作文档的基本文件 <cite>#725</cite> &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/725">https://github.com/aiogram/aiogram/issues/725</a>&gt;</p></li>
<li><p>重新设计过滤器解析：</p>
<ul class="simple">
<li><p>自动将默认值的Bound Filters 应用到处理程序</p></li>
<li><p>修复从父级到包含的路由器过滤器的数据传输</p></li>
</ul>
<p>#727 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/727">https://github.com/aiogram/aiogram/issues/727</a>&gt;</p>
</li>
<li><p>增加了对Bot API 5.4的全面支持。 <a class="reference external" href="https://core.telegram.org/bots/api-changelog#november-5-2021">https://core.telegram.org/bots/api-changelog#november-5-2021</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/744">#744</a></p></li>
</ul>
</section>
</section>
<section id="a17-2021-09-24">
<h2>3.0.0a17 (2021-09-24)<a class="headerlink" href="#a17-2021-09-24" title="Link to this heading">#</a></h2>
<section id="id237">
<h3>其他<a class="headerlink" href="#id237" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>已添加 <code class="code docutils literal notranslate"><span class="pre">html_text</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">md_text</span></code> 到消息对象 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/708">#708</a></p></li>
<li><p>重构了I18n，为I18n引擎和当前语言环境添加了上下文管理器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/709">#709</a></p></li>
</ul>
</section>
</section>
<section id="a16-2021-09-22">
<h2>3.0.0a16 (2021-09-22)<a class="headerlink" href="#a16-2021-09-22" title="Link to this heading">#</a></h2>
<section id="id240">
<h3>特性<a class="headerlink" href="#id240" title="Link to this heading">#</a></h3>
<ul>
<li><p>增加了本地 Bot API 服务器文件下载的支持</p>
<p>当本地API启用时，文件可以通过`bot.download`/<a class="reference external" href="https://github.com/aiogram/aiogram/issues/698">bot.download_file`方法下载。`#698</a></p>
</li>
<li><p>实现了 I18n &amp; L10n 支持 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/701">#701</a></p></li>
</ul>
</section>
<section id="id243">
<h3>其他<a class="headerlink" href="#id243" title="Link to this heading">#</a></h3>
<ul>
<li><p>被测试和文档覆盖的键盘构建工具 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/699">#699</a></p></li>
<li><p>重大消息!!! 重构并重命名异常。</p>
<ul class="simple">
<li><p>异常模块已从:code:<cite>aiogram.utils.exceptions`移至:code:`aiogram.exceptions</cite></p></li>
<li><p>为所有错误类添加前缀`Telegram`</p></li>
</ul>
<p>#700 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/700">https://github.com/aiogram/aiogram/issues/700</a>&gt;`_ -&gt; #700 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/700">https://github.com/aiogram/aiogram/issues/700</a>&gt;`_</p>
</li>
<li><p>通过全局的.coveragerc配置，替换了所有的pragma: no cover标记 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/702">#702</a></p></li>
<li><p>更新的依赖。</p>
<p>对于框架开发人员的突破
现在所有可选的依赖项都应该作为额外安装：<cite>poetry install -E fast -E redis -E proxy -E i18n -E docs</cite> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/703">#703</a></p>
</li>
</ul>
</section>
</section>
<section id="a15-2021-09-10">
<h2>3.0.0a15 (2021-09-10)<a class="headerlink" href="#a15-2021-09-10" title="Link to this heading">#</a></h2>
<section id="id248">
<h3>特性<a class="headerlink" href="#id248" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>能够遍历StatesGroup中的所有状态。Aiogram已经在状态组中添加了检查，因此这是一个相关特性。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/666">#666</a></p></li>
</ul>
</section>
<section id="id250">
<h3>错误修复<a class="headerlink" href="#id250" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>修复了 <a href="#id1"><span class="problematic" id="id2">:class:`aiogram.utils.keyboard.KeyboardBuilder`中的类型检查错误 `#674 &lt;https://github.com/aiogram/aiogram/issues/674&gt;`_</span></a></p></li>
</ul>
</section>
<section id="id252">
<h3>其他<a class="headerlink" href="#id252" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>默认情况下禁用ContentType过滤器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/668">#668</a></p></li>
<li><p>将更新类型检测功能从 Dispatcher 移动到 Update 对象 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/669">#669</a></p></li>
<li><p>更新了 <strong>pre-commit</strong> 配置 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/681">#681</a></p></li>
<li><p>重新制作了**handlers_in_use**工具。函数移动到Router作为方法**. resolve_used_update_types()** <a class="reference external" href="https://github.com/aiogram/aiogram/issues/682">#682</a></p></li>
</ul>
</section>
</section>
<section id="a14-2021-08-17">
<h2>3.0.0a14 (2021-08-17)<a class="headerlink" href="#a14-2021-08-17" title="Link to this heading">#</a></h2>
<section id="id257">
<h3>特性<a class="headerlink" href="#id257" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>为消息`#662 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/662">https://github.com/aiogram/aiogram/issues/662</a>&gt;`添加编辑/删除回复标记的别名</p></li>
<li><p>重新设计了外部中间件链。防止在每个嵌套路由器中多次调用外部中间件。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/664">#664</a></p></li>
</ul>
</section>
<section id="id260">
<h3>错误修复<a class="headerlink" href="#id260" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>为 AnswerInlineQuery 方法中的 InputMessageContent 准备解析模式 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/660">#660</a></p></li>
</ul>
</section>
<section id="id262">
<h3>改进的文档<a class="headerlink" href="#id262" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>集成了 <code class="code docutils literal notranslate"><span class="pre">towncrier</span></code> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/602">#602</a></p></li>
</ul>
</section>
<section id="id264">
<h3>其他<a class="headerlink" href="#id264" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>新增了`.editorconfig` <a class="reference external" href="https://github.com/aiogram/aiogram/issues/650">#650</a></p></li>
<li><p>Redis存储加速全局变量 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/651">#651</a></p></li>
<li><p>给 Message reply 别名添加 allow_sending_without_reply 参数 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/663">#663</a></p></li>
</ul>
</section>
</section>
<section id="id268">
<h2>2.14.3 (2021-07-21)<a class="headerlink" href="#id268" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复了通过添加可定制对象序列化机制来检测 <code class="code docutils literal notranslate"><span class="pre">ChatMember</span></code> 类型 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/624">#624</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/623">#623</a>)</p></li>
</ul>
</section>
<section id="id271">
<h2>2.14.2 (2021-07-26)<a class="headerlink" href="#id271" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>固定 <code class="code docutils literal notranslate"><span class="pre">MemoryStorage</span></code> 清理程序 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/619">#619</a>)</p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">I18nMiddleware</span></code> 中未使用的默认语言环境 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/562">#562</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/563">#563</a>)</p></li>
</ul>
</section>
<section id="id275">
<h2>2.14 (2021-07-27)<a class="headerlink" href="#id275" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Bot API 5.3的全面支持 (#610, #614)</p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">Message.send_copy</span></code> 方法在投票方面的问题 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/603">#603</a>)</p></li>
<li><p>更新了 <code class="code docutils literal notranslate"><span class="pre">GroupDeactivated</span></code> 异常的模式 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/549">#549</a>)</p></li>
<li><p>在`InputMedia`基类中添加了`caption_entities`字段(<a class="reference external" href="https://github.com/aiogram/aiogram/issues/583">#583</a>)</p></li>
<li><p>修复了代码`pre`标签的HTML文本装饰（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/597">#597</a> 修复了问题`#596 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/596">https://github.com/aiogram/aiogram/issues/596</a>&gt;`_和`#481 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/481">https://github.com/aiogram/aiogram/issues/481</a>&gt;`_）</p></li>
<li><p>修复了带有标题的消息的 <code class="code docutils literal notranslate"><span class="pre">Message.get_full_command</span></code> 方法（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/576">#576</a>）</p></li>
<li><p>改进了`MongoStorage`：从`aiogram_data`集合中删除空数据文档，以节省内存。 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/609">#609</a>)</p></li>
</ul>
</section>
<section id="id286">
<h2>2.13 (2021-04-28)<a class="headerlink" href="#id286" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>增加了对 Bot API 5.2 的全面支持（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/572">#572</a>）</p></li>
<li><p>在 <code class="code docutils literal notranslate"><span class="pre">sendInvoice</span></code> 方法调用中修复了 <code class="code docutils literal notranslate"><span class="pre">provider_data</span></code> 参数的使用</p></li>
<li><p>修正了内置命令过滤参数（<cite>#556 &lt;https://github.com/aiogram/aiogram/issues/556&gt;</cite>）（<cite>#558 &lt;https://github.com/aiogram/aiogram/issues/558&gt;</cite>）</p></li>
<li><p>允许直接使用State实例FSM存储 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/542">#542</a>)</p></li>
<li><p>增加了不需要User实例就能获取i18n区域的可能性 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/546">#546</a>)</p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">Bot.*_chat_invite_link()</span></code> 方法的返回类型 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/548">#548</a> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/549">#549</a>)</p></li>
<li><p>深链接工具已修复 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/569">#569</a>)</p></li>
<li><p>小的变动在文档中 - 描述与当前限制相对应的限制。 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/565">#565</a>)</p></li>
<li><p>修复了对已弃用的“is_private”方法的内部调用（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/553">#553</a>）</p></li>
<li><p>增加了在轮询模式中使用 <code class="code docutils literal notranslate"><span class="pre">allowed_updates</span></code> 参数的可能性 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/564">#564</a>)</p></li>
</ul>
</section>
<section id="id298">
<h2>2.12.1 (2021-03-22)<a class="headerlink" href="#id298" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>固定 <code class="code docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">值应该是</span> <span class="pre">'User'</span> <span class="pre">的实例，而不是</span> <span class="pre">'NoneType'</span></code> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/527">#527</a>)</p></li>
<li><p>增加了缺失的:code:<cite>Chat.message_auto_delete_time</cite> 字段 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/535">#535</a>)</p></li>
<li><p>添加了 <code class="code docutils literal notranslate"><span class="pre">MediaGroup</span></code> 过滤器 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/528">#528</a>)</p></li>
<li><p>添加了 <code class="code docutils literal notranslate"><span class="pre">Chat.delete_message</span></code> 快捷方式 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/526">#526</a>)</p></li>
<li><p>为 <code class="code docutils literal notranslate"><span class="pre">aiogram.types.Document</span></code> 添加了mime类型解析 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/431">#431</a>)</p></li>
<li><p>在 <code class="code docutils literal notranslate"><span class="pre">TelegramObject.__setitem__</span></code> 中添加警告，当 Telegram 添加一个新字段时 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/532">#532</a>)</p></li>
<li><p>固定:code:<cite>examples/chat_type_filter.py</cite> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/533">#533</a>)</p></li>
<li><p>在框架代码中删除了冗余的定义 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/531">#531</a>)</p></li>
</ul>
</section>
<section id="id307">
<h2>2.12（2021-03-14）<a class="headerlink" href="#id307" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>完全支持Telegram Bot API 5.1 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/519">#519</a>)</p></li>
<li><p>修复了发送音频文件和文档的播放列表 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/465">#465</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/468">#468</a>)</p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">FSMContextProxy.setdefault</span></code> 方法 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/491">#491</a>)</p></li>
<li><p>修复 <code class="code docutils literal notranslate"><span class="pre">Message.answer_location</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">Message.reply_location</span></code> 无法发送实时位置 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/497">#497</a>)</p></li>
<li><p>将Dispatcher中与上下文有关的:code:<cite>user_id`和:code:`chat_id`获取器修正为`check_key</cite>、<a class="reference external" href="https://github.com/aiogram/aiogram/issues/520">release_key`和`throttle`方法（`#520</a>）</p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">Chat.update_chat</span></code> 方法和所有类似情况 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/516">#516</a>)</p></li>
<li><p>修复 <code class="code docutils literal notranslate"><span class="pre">MediaGroup</span></code> 附加方法 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/514">#514</a>)</p></li>
<li><p>在群组中为内联键盘查询回调修复了状态过滤器 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/508">#508</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/510">#510</a>)</p></li>
<li><p>添加了缺失的 :code：<a class="reference external" href="https://github.com/aiogram/aiogram/issues/466">ContentTypes.DICE`（`#466</a>）</p></li>
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">InputContactMessageContent</span></code> 构造函数缺失的 vcard 参数 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/473">#473</a>)</p></li>
<li><p>添加缺失的异常: <code class="code docutils literal notranslate"><span class="pre">MessageIdInvalid</span></code>, <code class="code docutils literal notranslate"><span class="pre">CantRestrictChatOwner</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">UserIsAnAdministratorOfTheChat</span></code> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/474">#474</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/512">#512</a>)</p></li>
<li><p>添加了 <code class="code docutils literal notranslate"><span class="pre">answer_chat_action</span></code> 到 <code class="code docutils literal notranslate"><span class="pre">Message</span></code> 对象 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/501">#501</a>)</p></li>
<li><p>将骰子添加到 <code class="code docutils literal notranslate"><span class="pre">message.send_copy</span></code> 方法中 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/511">#511</a>)</p></li>
<li><p>从 :code:<a href="#id1"><span class="problematic" id="id2">`</span></a>Message.send_copy`中删除了弃用警告</p></li>
<li><p>新增了一个外部创建的aiohttp应用程序与aiogram集成的示例（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/433">＃433</a>）</p></li>
<li><p>为 <code class="code docutils literal notranslate"><span class="pre">safe_split_text</span></code> 添加了 <code class="code docutils literal notranslate"><span class="pre">split_separator</span></code> 参数 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/515">#515</a>)</p></li>
<li><p>在文件和示例中修复了一些拼写错误 (#489, #490, #498, #504, #514)。</p></li>
</ul>
</section>
<section id="id331">
<h2>2.11.2 (2021-11-10)<a class="headerlink" href="#id331" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>固定默认解析模式</p></li>
<li><p>已将丢失的“supports_streaming”参数添加到answer_video方法`#462 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/462">https://github.com/aiogram/aiogram/issues/462</a>&gt;`_</p></li>
</ul>
</section>
<section id="id333">
<h2>2.11.1 (2021-11-10)<a class="headerlink" href="#id333" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>固定文件URL模板</p></li>
<li><p>修复API调用中MessageEntity序列化的问题 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/457">#457</a></p></li>
<li><p>当实体被设置时，默认的解析模式将被禁用（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/461">#461</a>）</p></li>
<li><p>为 reply_video 添加了参数 supports_streaming，移除了冗余的文档字符串（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/459">#459</a>）.</p></li>
<li><p>添加了缺少的参数以提升ChatMember别名 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/458">#458</a>)</p></li>
</ul>
</section>
<section id="id338">
<h2>2.11 (2021-11-08)<a class="headerlink" href="#id338" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>完全支持了 Telegram 机器人 API 5.0 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/454">#454</a>)</p></li>
<li><dl class="simple">
<dt>更容易地指定自定义API服务器的可能性的添加(例如)</dt><dd><ul>
<li><p>警告：API 方法 <code class="code docutils literal notranslate"><span class="pre">close</span></code> 在 Bot 类中被命名为 close_bot，因为 Bot 实例已经有同名方法。它将在 <code class="code docutils literal notranslate"><span class="pre">aiogram</span> <span class="pre">3.0</span></code> 中更改</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>向Message对象添加了别名 <code class="code docutils literal notranslate"><span class="pre">Message.copy_to</span></code>，同时弃用了： code:<cite>Message.send_copy</cite></p></li>
<li><p><cite>ChatType.SUPER_GROUP</cite> 重命名为 <code class="code docutils literal notranslate"><span class="pre">ChatType.SUPERGROUP</span></code> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/438">#438</a>)</p></li>
</ul>
</section>
<section id="id341">
<h2>2.10.1 (2021-09-14)<a class="headerlink" href="#id341" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复了在执行器中获取asyncio事件循环的关键bug。(<a class="reference external" href="https://github.com/aiogram/aiogram/issues/424">#424</a>) <code class="code docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'run_until_complete'</span></code></p></li>
</ul>
</section>
<section id="id343">
<h2>2.10 (2021-09-13)<a class="headerlink" href="#id343" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>不需要翻译</p></li>
<li><p>重大变化：用 motor 替换了 aiomongo (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/368">#368</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/380">#380</a>)</p></li>
<li><p>修复：在更新处理后Telegram对象不会被销毁`#307 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/307">https://github.com/aiogram/aiogram/issues/307</a>&gt;`_（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/371">#371</a>）</p></li>
<li><p>设置当前Telegram类型的上下文设置 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/369">#369</a>)</p></li>
<li><p>修正了 Markdown 转义问题 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/363">#363</a>)</p></li>
<li><p>修复了HTML字符转义（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/409">#409</a>）.</p></li>
<li><p>修正解析实体为Markdown时的斜体和下划线修饰</p></li>
<li><p>修复了 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/413">#413</a>: 解析实体位置 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/414">#414</a>)</p></li>
<li><p>添加了丢失的缩略图参数（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/362">#362</a>）</p></li>
<li><p>添加了注册过滤器和中间件的公共方法 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/370">#370</a>)</p></li>
<li><p>增加了 ChatType 内置过滤器（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/356">#356</a>）</p></li>
<li><p>固定ID过滤器检查来自频道的消息（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/376">＃376</a>）</p></li>
<li><p>新增了遗漏的answer_poll和reply_poll (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/384">#384</a>)</p></li>
<li><p>增加了在命令过滤器中忽略消息标题的可能性（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/383">#383</a>）</p></li>
<li><p>修复了addStickerToSet方法</p></li>
<li><p>在send_document方法中添加了准备缩略图（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/391">#391</a>）</p></li>
<li><p>添加了异常 MessageToPinNotFound（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/404">#404</a>）</p></li>
<li><p>修复了处理程序参数规范解决 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/408">#408</a>)</p></li>
<li><p>修复了CallbackQuery.answer()不返回任何内容（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/420">#420</a>）</p></li>
<li><p>CHOSEN_INLINE_RESULT是一个正确的API术语（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/415">#415</a>）</p></li>
<li><p>Animation 类的缺失属性已修复 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/422">#422</a>)</p></li>
<li><p>为`reply_dice`添加了遗漏的表情符号参数（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/395">＃395</a>）</p></li>
<li><p>ChatMemberStatus（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/394">#394</a>）新增了 is_chat_creator 方法</p></li>
<li><p>将丢失的ChatPermissions添加到__all__ (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/393">#393</a>)</p></li>
<li><p>为 Message 添加了 is_forward 方法（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/390">#390</a>）</p></li>
<li><p>修复了 is_private 函数的弃用用法 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/421">#421</a>)</p></li>
</ul>
<p>和许多其他文档和示例更改:</p>
<ul class="simple">
<li><p>RedisStorage2的文档字符串已更新（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/423">#423</a>）</p></li>
<li><p>更新的I18n示例（添加了文档并修正了拼写错误）（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/419">#419</a>）</p></li>
<li><p>一点文档修订 (#381 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/381">https://github.com/aiogram/aiogram/issues/381</a>&gt;_ )</p></li>
<li><p>关于正确使用错误处理程序的注释已添加（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/398">＃398</a>）</p></li>
<li><p>修正拼写错误 rexex -&gt; 正则表达式 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/386">#386</a>)</p></li>
<li><p>固定文档快速入门页面代码块（#417）</p></li>
<li><p>callback_data的固定类型提示 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/400">#400</a>)</p></li>
<li><p>美化自述文件，更新下载统计徽章 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/406">#406</a>)</p></li>
</ul>
</section>
<section id="id379">
<h2>2.9.2 (2021-06-13)<a class="headerlink" href="#id379" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复 <code class="code docutils literal notranslate"><span class="pre">Message.get_full_command()</span></code> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/352">#352</a></p></li>
<li><p>修复了 markdown 工具 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/353">#353</a></p></li>
</ul>
</section>
<section id="id382">
<h2>2.9 (2021-06-08)<a class="headerlink" href="#id382" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>完全支持Telegram Bot API 4.9</p></li>
<li><p>在 poll_answer 更新时修复了用户上下文 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/322">#322</a>)</p></li>
<li><p>修复 Chat.set_description (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/325">#325</a>)</p></li>
<li><p>添加懒惰的会话生成器 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/326">#326</a>)</p></li>
<li><p>修复文本装饰 (#315, #316, #328)</p></li>
<li><p>修复缺失的 <code class="code docutils literal notranslate"><span class="pre">InlineQueryResultPhoto</span></code> <code class="code docutils literal notranslate"><span class="pre">parse_mode</span></code> 字段 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/331">#331</a>)</p></li>
<li><p>在 <code class="code docutils literal notranslate"><span class="pre">KeyboardButton</span></code> 中修复从父对象获取的字段 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/344">#344</a> 修复 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/343">#343</a>)</p></li>
<li><p>增加获取机器人id的功能，而不需要调用 <code class="code docutils literal notranslate"><span class="pre">get_me</span></code> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/296">#296</a>)。</p></li>
</ul>
</section>
<section id="id393">
<h2>2.8 (2021-04-26)<a class="headerlink" href="#id393" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>增加了对Bot API 4.8的全面支持</p></li>
<li><p>新增了 <code class="code docutils literal notranslate"><span class="pre">Message.answer_dice</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">Message.reply_dice</span></code> 方法 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/306">#306</a>)</p></li>
</ul>
</section>
<section id="id395">
<h2>2.7 (2021-04-07)<a class="headerlink" href="#id395" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>增加了对Bot API 4.7的全面支持（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/294">#294</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/289">#289</a>)</p></li>
<li><p>为send_animation方法添加了默认解析模式 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/293">#293</a> <a class="reference external" href="https://github.com/aiogram/aiogram/issues/292">#292</a>)</p></li>
<li><p>在公共聊天中请求投票时，添加了新的API异常（＃270 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/270">https://github.com/aiogram/aiogram/issues/270</a>&gt;）</p></li>
<li><p>创建正确的用户和聊天获取 &#64; 提及 方法 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/277">#277</a>)</p></li>
<li><p>小的改变和其他小的改进</p></li>
</ul>
</section>
<section id="id402">
<h2>2.6.1 (2021-01-25)<a class="headerlink" href="#id402" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复了 <code class="code docutils literal notranslate"><span class="pre">KeyboardButton</span></code> 初始化程序，增加了 <code class="code docutils literal notranslate"><span class="pre">request_poll</span></code> 参数（#266 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/266">https://github.com/aiogram/aiogram/issues/266</a>&gt;`_）</p></li>
<li><p>增加了用于投票类型的辅助功能（<code class="code docutils literal notranslate"><span class="pre">aiogram.types.PollType</span></code>）</p></li>
<li><p>更新了Telegram_object <code class="code docutils literal notranslate"><span class="pre">.as_*</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">.to_*</span></code> 方法的行为。它不再改变对象本身。 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/247">#247</a>)</p></li>
</ul>
</section>
<section id="id405">
<h2>2.6 (2021-01-23)<a class="headerlink" href="#id405" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Telegram机器人API v4.6（投票2.0）的全面支持 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/265">#265</a></p></li>
<li><p>添加了新的过滤器 - IsContactSender (commit)</p></li>
<li><p>修复了代理额外依赖的版本 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/262">#262</a></p></li>
</ul>
</section>
<section id="id408">
<h2>2.5.3 (2021-01-05)<a class="headerlink" href="#id408" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/255">#255</a> 更新了CallbackData工厂的有效性检查。对非拉丁符号更加正确</p></li>
<li><p>#256 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/256">https://github.com/aiogram/aiogram/issues/256</a>&gt; Fixed <code class="code docutils literal notranslate"><span class="pre">renamed_argument</span></code> decorator error
#256 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/256">https://github.com/aiogram/aiogram/issues/256</a>&gt; 修复 <code class="code docutils literal notranslate"><span class="pre">renamed_argument</span></code> 装饰器错误</p></li>
<li><p>#257 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/257">https://github.com/aiogram/aiogram/issues/257</a>&gt;  进一步修复CommandStart过滤器</p></li>
</ul>
</section>
<section id="id412">
<h2>2.5.2 (2021-01-01)<a class="headerlink" href="#id412" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>把 <code class="code docutils literal notranslate"><span class="pre">quote_html</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">escape_md</span></code> 函数传回</p></li>
</ul>
</section>
<section id="id413">
<h2>2.5.1 (2021-01-01)<a class="headerlink" href="#id413" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修正 <code class="code docutils literal notranslate"><span class="pre">CommandStart</span></code> 过滤器</p></li>
</ul>
</section>
<section id="id414">
<h2>2.5（2021年1月1日）<a class="headerlink" href="#id414" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>增加了对Telegram Bot API 4.5的完整支持（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/250">#250</a>、 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/251">#251</a>）</p></li>
<li><p>#239 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/239">https://github.com/aiogram/aiogram/issues/239</a>&gt;`_ 修复了 <code class="code docutils literal notranslate"><span class="pre">check_token</span></code> 方法</p></li>
<li><p><a class="reference external" href="https://github.com/aiogram/aiogram/issues/238">#238</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/241">#241</a>: Added deep-linking utils</p></li>
<li><p>#248 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/248">https://github.com/aiogram/aiogram/issues/248</a>&gt;`_ 修复了对aiohttp-socks的支持</p></li>
<li><p>更新了setup.py。不再使用内部pip API</p></li>
<li><p>更新了文档链接 (<a class="reference external" href="https://docs.aiogram.dev">https://docs.aiogram.dev</a>)</p></li>
<li><p>其他小的更改和细微的改进（<a class="reference external" href="https://github.com/aiogram/aiogram/issues/223">#223</a> 和其他…)</p></li>
</ul>
</section>
<section id="id422">
<h2>2.4 (2021-10-29)<a class="headerlink" href="#id422" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>新增 Message.send_copy 方法（转发消息但不实际转发）</p></li>
<li><p>安全关闭aiohttp客户端会话（应用程序关闭时不再出现异常）.</p></li>
<li><p>在项目`#209 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/209">https://github.com/aiogram/aiogram/issues/209</a>&gt;`_里不再使用”adWanced”单词</p></li>
<li><p>用户和聊天参数在Dispatcher.throttle方法中被重命名为user_id和chat_id <a class="reference external" href="https://github.com/aiogram/aiogram/issues/196">#196</a></p></li>
<li><p>修复了 set_chat_permissions <a class="reference external" href="https://github.com/aiogram/aiogram/issues/198">#198</a></p></li>
<li><p>Fixed Dispatcher polling task does not process cancellation <a class="reference external" href="https://github.com/aiogram/aiogram/issues/199">#199</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/201">#201</a></p></li>
<li><p>修复了与最新的asyncio版本兼容的问题 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/200">#200</a></p></li>
<li><p>默认禁用I18nMiddleware的lazy_gettext方法的缓存 #203 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/203">https://github.com/aiogram/aiogram/issues/203</a>&gt;</p></li>
<li><p>修复了HTML用户提及解析器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/205">#205</a></p></li>
<li><p>添加了IsReplyFilter <a class="reference external" href="https://github.com/aiogram/aiogram/issues/210">#210</a></p></li>
<li><p>修复了send_poll方法参数 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/211">#211</a></p></li>
<li><p>添加了 OrderedHelper <a class="reference external" href="https://github.com/aiogram/aiogram/issues/215">#215</a></p></li>
<li><p>修复错误的完成顺序。<a class="reference external" href="https://github.com/aiogram/aiogram/issues/217">#217</a></p></li>
</ul>
</section>
<section id="id435">
<h2>2.3 (2021-08-16)<a class="headerlink" href="#id435" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Telegram Bot API 4.4 的全面支持</p></li>
<li><p>固定 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/143">#143</a></p></li>
<li><p>从问题 <cite>#151 &lt;https://github.com/aiogram/aiogram/issues/151&gt;`_添加了新的过滤器： `#172 &lt;https://github.com/aiogram/aiogram/issues/172&gt;</cite>、 <cite>#176 &lt;https://github.com/aiogram/aiogram/issues/176&gt;</cite>、 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/182">#182</a></p></li>
<li><p>新增了到RedisStorage2的过期参数和其他存储修复 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/145">#145</a></p></li>
<li><p>已修复JSON和Pickle存储`#138 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/138">https://github.com/aiogram/aiogram/issues/138</a>&gt;`_</p></li>
<li><p>使用基于 aiomongo 的 MongoStorage <a class="reference external" href="https://github.com/aiogram/aiogram/issues/153">＃153</a> 实现（很快也会添加motor）</p></li>
<li><p>改进的测试</p></li>
<li><p>更新的例子</p></li>
<li><p>警告：已更新身份验证小部件工具。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/190">#190</a></p></li>
<li><p>实现了节流装饰器 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/181">#181</a></p></li>
</ul>
</section>
<section id="id446">
<h2>2.2 (2021-06-09)<a class="headerlink" href="#id446" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>提供最新的Telegram Bot API（4.3）</p></li>
<li><p>更新了用于过滤器的文档</p></li>
<li><p>增加了使用单个机器人实例的不同机器人令牌的机会（通过上下文管理器，<a class="reference external" href="https://github.com/aiogram/aiogram/issues/100">#100</a>）</p></li>
<li><p>重要提示：在RedisStorage2中，<cite>update_bucket`中的拼写错误已经修正：:code:`data</cite> -&gt; <code class="code docutils literal notranslate"><span class="pre">bucket</span></code> (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/132">#132</a>)</p></li>
</ul>
</section>
<section id="id449">
<h2>2.1 (2021-04-18)<a class="headerlink" href="#id449" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>实现了来自 Telegram Bot API 4.2 的所有新功能</p></li>
<li><p><cite>ChatMember`和`ChatMemberStatus`的`is_member`和`is_admin`方法已重命名为`is_chat_member`和`is_chat_admin</cite></p></li>
<li><p>移除函数过滤</p></li>
<li><p>添加了一些有用的消息编辑功能（<code class="code docutils literal notranslate"><span class="pre">Message.edit_caption</span></code>, <code class="code docutils literal notranslate"><span class="pre">Message.edit_media</span></code>, <code class="code docutils literal notranslate"><span class="pre">Message.edit_reply_markup</span></code>) (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/121">#121</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/103">#103</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/104">#104</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/112">#112</a>)</p></li>
<li><p>为所有方法添加了请求超时 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/110">#110</a>)</p></li>
<li><p>已添加了 <code class="code docutils literal notranslate"><span class="pre">answer*</span></code> 方法到 <code class="code docutils literal notranslate"><span class="pre">Message</span></code> 对象 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/112">#112</a>)</p></li>
<li><p>改进了:code:<a href="#id1"><span class="problematic" id="id2">`</span></a>CallbackData`工厂</p></li>
<li><p>为 <code class="code docutils literal notranslate"><span class="pre">CommandStart</span></code> 过滤器添加了深链接参数过滤器</p></li>
<li><p>实现了通过socks协议进行DNS解析的机会 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/97">#97</a> -&gt; <a class="reference external" href="https://github.com/aiogram/aiogram/issues/98">#98</a>)</p></li>
<li><p>扩展LogRecord属性的日志过滤器已实现（将与GrayLog、Kibana等外部日志收集工具一起使用非常有用）。</p></li>
<li><p>已更新 <code class="code docutils literal notranslate"><span class="pre">requirements.txt</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">dev_requirements.txt</span></code> 文件</p></li>
<li><p>其他小的更改和细微的改进</p></li>
</ul>
</section>
<section id="id458">
<h2>2.0.1（2021年12月31日）<a class="headerlink" href="#id458" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>实现了回调数据工厂（<a class="reference external" href="https://github.com/aiogram/aiogram/blob/master/examples/callback_data_factory.py">示例</a>）</p></li>
<li><p>实现了从上下文回答内联查询的方法，并且可以向消息回复动画。 <a class="reference external" href="https://github.com/aiogram/aiogram/issues/85">#85</a></p></li>
<li><p>从tar.gz固定安装`#84 &lt;<a class="reference external" href="https://github.com/aiogram/aiogram/issues/84">https://github.com/aiogram/aiogram/issues/84</a>&gt;`_</p></li>
<li><p>更多的例外情况 (<code class="code docutils literal notranslate"><span class="pre">ChatIdIsEmpty</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">NotEnoughRightsToRestrict</span></code>)</p></li>
</ul>
</section>
<section id="id461">
<h2>2.0 (2021-10-28)<a class="headerlink" href="#id461" title="Link to this heading">#</a></h2>
<p>这个更新将导致与Python 3.6的向后兼容性中断，并且只能与Python 3.7+一起使用：- contextvars（PEP-567）; - 注解的新语法（PEP-563）。</p>
<p>变更：- 使用 contextvars 替代 <code class="code docutils literal notranslate"><span class="pre">aiogram.utils.context</span></code>；- 实现了过滤器工厂；- 实现了新的过滤器机制；- 允许在 CommandsFilter 中自定义命令前缀；- 实现了将过滤器的结果（作为字典）作为处理程序中的 kwargs 传递的机制（类似 pytest 中的 fixtures）；- 实现了状态组特性；- 实现了FSM存储的代理；- 更改了文件上传机制；- 实现了从URL上传文件的管道；- 实现了I18n中间件；- 错误处理程序现在只应接受两个参数（当前更新和异常）；- 对于Socks4/5代理，使用 <code class="code docutils literal notranslate"><span class="pre">aiohttp_socks</span></code> 替代 <code class="code docutils literal notranslate"><span class="pre">aiosocksy</span></code>；- types.ContentType 被分为 <code class="code docutils literal notranslate"><span class="pre">types.ContentType</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">types.ContentTypes</span></code>；- 允许使用 rapidjson 替代 ujson/json；- bot 和 dispatcher 对象中的 <code class="code docutils literal notranslate"><span class="pre">.current()</span></code> 方法更名为 <code class="code docutils literal notranslate"><span class="pre">get_current()</span></code>;</p>
<p>完整的更改日志 - 您可以在迁移FAQ中阅读有关此版本的更多详细信息: <a class="reference external" href="https://aiogram.readthedocs.io/en/latest/migration_1_to_2.html">https://aiogram.readthedocs.io/en/latest/migration_1_to_2.html</a></p>
</section>
<section id="id462">
<h2>1.4 (2021-08-03)<a class="headerlink" href="#id462" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Bot API 4.0 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/57">#57</a>)</p></li>
</ul>
</section>
<section id="id464">
<h2>1.3.3 (2021-07-16)<a class="headerlink" href="#id464" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复了标记实体的解析；</p></li>
<li><p>增加了更多的API异常;</p></li>
<li><p>现在InlineQueryResultLocation有live_period;</p></li>
<li><p>添加更多的消息内容类型;</p></li>
<li><p>其他小的变动和细微的改进。</p></li>
</ul>
</section>
<section id="id465">
<h2>1.3.2 (2021-05-27)<a class="headerlink" href="#id465" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复了轮询进程崩溃的问题。 (我认为)</p></li>
<li><p>根据机器人API文档，在输入查询结果中添加了parse_mode字段。</p></li>
<li><p>为Chat对象添加了新的方法。 (<a class="reference external" href="https://github.com/aiogram/aiogram/issues/42">#42</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/43">#43</a>)</p></li>
<li><p>警告：禁用了机器人aiohttp会话的连接限制。</p></li>
<li><p>警告：销毁了”临时会话”机制。</p></li>
<li><p>新增了新的错误类型。</p></li>
<li><p>重构错误类型检测。</p></li>
<li><p>执行者工具的小修复。</p></li>
<li><p>修复后的RethinkDBStorage</p></li>
</ul>
</section>
<section id="id468">
<h2>1.3.1 (2018-05-27)<a class="headerlink" href="#id468" title="Link to this heading">#</a></h2>
</section>
<section id="id469">
<h2>1.3 (2021-04-22)<a class="headerlink" href="#id469" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>允许使用Socks5代理（需要手动安装 <code class="code docutils literal notranslate"><span class="pre">aiosocksy</span></code>）。</p></li>
<li><p>重构:code:<cite>aiogram.utils.executor</cite> 模块。</p></li>
<li><p>【警告】更新后的需求列表。</p></li>
</ul>
</section>
<section id="id470">
<h2>1.2.3 (2018-04-14) =&gt; 1.2.3（2018年04月14日）<a class="headerlink" href="#id470" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>API错误的修复检测</p></li>
<li><p>修复了与 pip 10.0.0 的 <code class="code docutils literal notranslate"><span class="pre">setup.py</span></code> 兼容性</p></li>
</ul>
</section>
<section id="id471">
<h2>1.2.2 (2018-04-08)<a class="headerlink" href="#id471" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>添加了更多的错误类型。</p></li>
<li><p>已实现 <code class="code docutils literal notranslate"><span class="pre">InputFile.from_url(url:</span> <span class="pre">str)</span></code> 方法，用于下载文件。</p></li>
<li><p>实现了 API 方法测试的大部分。</p></li>
<li><p>其他小的变动和细微的改进。</p></li>
</ul>
</section>
<section id="id472">
<h2>1.2.1 (2018-03-25)<a class="headerlink" href="#id472" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>修复了处理地点的 [<a class="reference external" href="https://github.com/aiogram/aiogram/issues/27">#27</a>, <a class="reference external" href="https://github.com/aiogram/aiogram/issues/26">#26</a>]</p></li>
<li><p>已将parse_mode添加到所有媒体（Bot API 3.6支持）[<a class="reference external" href="https://github.com/aiogram/aiogram/issues/23">#23</a>]</p></li>
<li><p>现在可以使用正则表达式过滤器来处理回调查询数据了 [<a class="reference external" href="https://github.com/aiogram/aiogram/issues/19">#19</a>]</p></li>
<li><p>改进了 <code class="code docutils literal notranslate"><span class="pre">InlineKeyboardMarkup</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">ReplyKeyboardMarkup</span></code> 对象 [<a class="reference external" href="https://github.com/aiogram/aiogram/issues/21">#21</a>]</p></li>
<li><p>其他错误和错别字修复以及小的改进。</p></li>
</ul>
</section>
<section id="id478">
<h2>1.2 (2018-02-23)<a class="headerlink" href="#id478" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>提供 Telegram 机器人 API 3.6 完整版本</p></li>
<li><p>修复关键错误： <code class="code docutils literal notranslate"><span class="pre">致命的Python错误：PyImport_GetModuleDict：没有模块字典！</span></code></p></li>
<li><p>在RethinkDB驱动程序中实现了连接池</p></li>
<li><p>文档的错别字修正</p></li>
<li><p>其他错误修复和小的改进。</p></li>
</ul>
</section>
<section id="id479">
<h2>1.1 (2018-01-27)<a class="headerlink" href="#id479" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>增加了更多的数据类型方法（比如：<cite>message.reply_sticker(…)</cite> 或 <cite>file.download(…)</cite>）</p></li>
<li><p>文档的错别字修正</p></li>
<li><p>允许设置消息的默认解析模式 (<code class="code docutils literal notranslate"><span class="pre">Bot(</span> <span class="pre">...</span> <span class="pre">,</span> <span class="pre">parse_mode='HTML')</span></code>)</p></li>
<li><p>允许从 <code class="code docutils literal notranslate"><span class="pre">Middleware.on_pre_process_&lt;event</span> <span class="pre">type&gt;</span></code> 取消事件</p></li>
<li><p>修复发送文件时使用正确的文件名。</p></li>
<li><p>固定的 MediaGroup</p></li>
<li><p>为FSM增加了RethinkDB存储 (<code class="code docutils literal notranslate"><span class="pre">aiogram.contrib.fsm_storage.rethinkdb</span></code>)</p></li>
</ul>
</section>
<section id="id480">
<h2>1.0.4（2018-01-10）<a class="headerlink" href="#id480" title="Link to this heading">#</a></h2>
</section>
<section id="id481">
<h2>1.0.3 (2018-01-07)<a class="headerlink" href="#id481" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>添加了中间件机制。</p></li>
<li><p>添加了中间件和限流管理器的示例。</p></li>
<li><p>添加日志中间件 (<code class="code docutils literal notranslate"><span class="pre">aiogram.contrib.middlewares.logging.LoggingMiddleware</span></code>)</p></li>
<li><p>修复了异步任务（标记为’async_task’）中的错误处理</p></li>
<li><p>小修复和其他轻微改进。</p></li>
</ul>
</section>
<section id="id482">
<h2>1.0.2 (2017-11-29)<a class="headerlink" href="#id482" title="Link to this heading">#</a></h2>
</section>
<section id="id483">
<h2>1.0.1 （2017年11月21日）<a class="headerlink" href="#id483" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>实现了`:code:<cite>types.InputFile</cite>，以便更轻松地发送本地文件</p></li>
<li><p>危险！单词汇总中的拼写错误已经修复。现在，标记为已弃用的所有带有该单词的方法和原始方法都已更名为轮询。在更新之前，请在你的代码中进行检查！</p></li>
<li><p>聊天操作的固定助手 (<code class="code docutils literal notranslate"><span class="pre">types.ChatActions</span></code>)</p></li>
<li><p>已添加媒体组的 <a class="reference external" href="https://github.com/aiogram/aiogram/blob/master/examples/media_group.py">示例</a> .</p></li>
</ul>
</section>
<section id="id485">
<h2>1.0 (2017-11-19)<a class="headerlink" href="#id485" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>改进的数据类型序列化/反序列化机制（加快速度）。</p></li>
<li><p>完全重写了所有的Telegram数据类型。</p></li>
<li><p>Bot object was fully rewritted (regenerated).
机器人对象已经完全重写（重新生成）。</p></li>
<li><p>提供Telegram Bot API 3.4+完整功能（含sendMediaGroup）</p></li>
<li><p>警告：现在 <code class="code docutils literal notranslate"><span class="pre">BaseStorage.close()</span></code> 是可等待的！ (FSM)</p></li>
<li><p>修复了与uvloop的兼容性。</p></li>
<li><p>为 <code class="code docutils literal notranslate"><span class="pre">aiogram.utils.context</span></code> 提供更多就业机会。</p></li>
<li><p>可以禁用 <cite>ujson</cite>。</p></li>
<li><p>其他错误修复和小的改进。</p></li>
<li><p>从Bitbucket迁移到Github。</p></li>
</ul>
</section>
<section id="id486">
<h2>0.4.1 (2017-08-03)<a class="headerlink" href="#id486" title="Link to this heading">#</a></h2>
</section>
<section id="id487">
<h2>0.4 (2017-08-05)<a class="headerlink" href="#id487" title="Link to this heading">#</a></h2>
</section>
<section id="id488">
<h2>0.3.4 (2017-08-04)<a class="headerlink" href="#id488" title="Link to this heading">#</a></h2>
</section>
<section id="id489">
<h2>0.3.3 (2017-07-05)<a class="headerlink" href="#id489" title="Link to this heading">#</a></h2>
</section>
<section id="id490">
<h2>0.3.2 (2017-07-04)<a class="headerlink" href="#id490" title="Link to this heading">#</a></h2>
</section>
<section id="id491">
<h2>0.3.1 (2017-07-04)<a class="headerlink" href="#id491" title="Link to this heading">#</a></h2>
</section>
<section id="b1-2017-06-00">
<h2>0.2b1 (2017年06月00日)<a class="headerlink" href="#b1-2017-06-00" title="Link to this heading">#</a></h2>
</section>
<section id="id492">
<h2>0.1（2017-06-03）<a class="headerlink" href="#id492" title="Link to this heading">#</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="contributing.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">贡献</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="utils/deep_linking.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">深度链接</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, aiogram Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">更新日志</a><ul>
<li><a class="reference internal" href="#release-unreleased-draft-2024-03-25">3.4.1 [UNRELEASED DRAFT] (2024-03-25)</a><ul>
<li><a class="reference internal" href="#features">特性</a></li>
<li><a class="reference internal" href="#bugfixes">错误修复</a></li>
<li><a class="reference internal" href="#improved-documentation">改进的文档</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">3.4.1 (2024-02-17)</a><ul>
<li><a class="reference internal" href="#id6">错误修复</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">3.4.0 (2024-02-16)</a><ul>
<li><a class="reference internal" href="#id9">特性</a></li>
<li><a class="reference internal" href="#id13">错误修复</a></li>
<li><a class="reference internal" href="#id16">改进的文档</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id18">3.3.0 (2023-12-31)</a><ul>
<li><a class="reference internal" href="#id19">特性</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id21">3.2.0 (2023-11-24)</a><ul>
<li><a class="reference internal" href="#id22">特性</a></li>
<li><a class="reference internal" href="#id25">错误修复</a></li>
<li><a class="reference internal" href="#id29">改进的文档</a></li>
<li><a class="reference internal" href="#misc">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id42">3.1.1 (2023-09-25)</a><ul>
<li><a class="reference internal" href="#id43">错误修复</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id45">3.1.0 (2023-09-22)</a><ul>
<li><a class="reference internal" href="#id46">特性</a></li>
<li><a class="reference internal" href="#id50">错误修复</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id53">3.0.0 (2023-09-01)</a><ul>
<li><a class="reference internal" href="#id54">错误修复</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rc2-2023-08-18">3.0.0rc2 (2023-08-18)</a><ul>
<li><a class="reference internal" href="#id61">错误修复</a></li>
<li><a class="reference internal" href="#id65">改进的文档</a></li>
<li><a class="reference internal" href="#id73">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rc1-2023-08-06">3.0.0rc1 (2023-08-06)</a><ul>
<li><a class="reference internal" href="#id76">特性</a></li>
<li><a class="reference internal" href="#id80">错误修复</a></li>
<li><a class="reference internal" href="#id83">改进的文档</a></li>
<li><a class="reference internal" href="#id85">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b9-2023-07-30">3.0.0b9 (2023-07-30)</a><ul>
<li><a class="reference internal" href="#id88">特性</a></li>
<li><a class="reference internal" href="#id91">错误修复</a></li>
<li><a class="reference internal" href="#id94">改进的文档</a></li>
<li><a class="reference internal" href="#deprecations-and-removals">弃用和移除</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b8-2023-07-17">3.0.0b8 (2023-07-17)</a><ul>
<li><a class="reference internal" href="#id97">特性</a></li>
<li><a class="reference internal" href="#id105">错误修复</a></li>
<li><a class="reference internal" href="#id113">改进的文档</a></li>
<li><a class="reference internal" href="#id115">弃用和移除</a></li>
<li><a class="reference internal" href="#id117">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b7-2023-02-18">3.0.0b7 (2023-02-18)</a><ul>
<li><a class="reference internal" href="#id125">特性</a></li>
<li><a class="reference internal" href="#id129">错误修复</a></li>
<li><a class="reference internal" href="#id132">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b6-2022-11-18">3.0.0b6（2022年11月18日）</a><ul>
<li><a class="reference internal" href="#id140">特性</a></li>
<li><a class="reference internal" href="#id145">错误修复</a></li>
<li><a class="reference internal" href="#id148">改进的文档</a></li>
<li><a class="reference internal" href="#id152">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b5-2022-10-02">3.0.0b5 (2022-10-02)</a><ul>
<li><a class="reference internal" href="#id155">特性</a></li>
<li><a class="reference internal" href="#id160">错误修复</a></li>
<li><a class="reference internal" href="#id165">改进的文档</a></li>
<li><a class="reference internal" href="#id167">弃用和移除</a></li>
<li><a class="reference internal" href="#id169">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b4-2022-08-14">3.0.0b4 (2022-08-14)</a><ul>
<li><a class="reference internal" href="#id171">特性</a></li>
<li><a class="reference internal" href="#id176">错误修复</a></li>
<li><a class="reference internal" href="#id181">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b3-2022-04-19">3.0.0b3 (2022-04-19)</a><ul>
<li><a class="reference internal" href="#id190">特性</a></li>
<li><a class="reference internal" href="#id193">错误修复</a></li>
<li><a class="reference internal" href="#id198">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b2-2022-02-19">3.0.0b2 (2022-02-19)</a><ul>
<li><a class="reference internal" href="#id203">特性</a></li>
<li><a class="reference internal" href="#id207">错误修复</a></li>
<li><a class="reference internal" href="#id210">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#b1-2021-12-12">3.0.0b1（2021年12月12日）</a><ul>
<li><a class="reference internal" href="#id214">特性</a></li>
<li><a class="reference internal" href="#id216">错误修复</a></li>
<li><a class="reference internal" href="#id218">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a18-2021-11-10">3.0.0a18 (2021-11-10)</a><ul>
<li><a class="reference internal" href="#id223">特性</a></li>
<li><a class="reference internal" href="#id228">错误修复</a></li>
<li><a class="reference internal" href="#id232">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a17-2021-09-24">3.0.0a17 (2021-09-24)</a><ul>
<li><a class="reference internal" href="#id237">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a16-2021-09-22">3.0.0a16 (2021-09-22)</a><ul>
<li><a class="reference internal" href="#id240">特性</a></li>
<li><a class="reference internal" href="#id243">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a15-2021-09-10">3.0.0a15 (2021-09-10)</a><ul>
<li><a class="reference internal" href="#id248">特性</a></li>
<li><a class="reference internal" href="#id250">错误修复</a></li>
<li><a class="reference internal" href="#id252">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a14-2021-08-17">3.0.0a14 (2021-08-17)</a><ul>
<li><a class="reference internal" href="#id257">特性</a></li>
<li><a class="reference internal" href="#id260">错误修复</a></li>
<li><a class="reference internal" href="#id262">改进的文档</a></li>
<li><a class="reference internal" href="#id264">其他</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id268">2.14.3 (2021-07-21)</a></li>
<li><a class="reference internal" href="#id271">2.14.2 (2021-07-26)</a></li>
<li><a class="reference internal" href="#id275">2.14 (2021-07-27)</a></li>
<li><a class="reference internal" href="#id286">2.13 (2021-04-28)</a></li>
<li><a class="reference internal" href="#id298">2.12.1 (2021-03-22)</a></li>
<li><a class="reference internal" href="#id307">2.12（2021-03-14）</a></li>
<li><a class="reference internal" href="#id331">2.11.2 (2021-11-10)</a></li>
<li><a class="reference internal" href="#id333">2.11.1 (2021-11-10)</a></li>
<li><a class="reference internal" href="#id338">2.11 (2021-11-08)</a></li>
<li><a class="reference internal" href="#id341">2.10.1 (2021-09-14)</a></li>
<li><a class="reference internal" href="#id343">2.10 (2021-09-13)</a></li>
<li><a class="reference internal" href="#id379">2.9.2 (2021-06-13)</a></li>
<li><a class="reference internal" href="#id382">2.9 (2021-06-08)</a></li>
<li><a class="reference internal" href="#id393">2.8 (2021-04-26)</a></li>
<li><a class="reference internal" href="#id395">2.7 (2021-04-07)</a></li>
<li><a class="reference internal" href="#id402">2.6.1 (2021-01-25)</a></li>
<li><a class="reference internal" href="#id405">2.6 (2021-01-23)</a></li>
<li><a class="reference internal" href="#id408">2.5.3 (2021-01-05)</a></li>
<li><a class="reference internal" href="#id412">2.5.2 (2021-01-01)</a></li>
<li><a class="reference internal" href="#id413">2.5.1 (2021-01-01)</a></li>
<li><a class="reference internal" href="#id414">2.5（2021年1月1日）</a></li>
<li><a class="reference internal" href="#id422">2.4 (2021-10-29)</a></li>
<li><a class="reference internal" href="#id435">2.3 (2021-08-16)</a></li>
<li><a class="reference internal" href="#id446">2.2 (2021-06-09)</a></li>
<li><a class="reference internal" href="#id449">2.1 (2021-04-18)</a></li>
<li><a class="reference internal" href="#id458">2.0.1（2021年12月31日）</a></li>
<li><a class="reference internal" href="#id461">2.0 (2021-10-28)</a></li>
<li><a class="reference internal" href="#id462">1.4 (2021-08-03)</a></li>
<li><a class="reference internal" href="#id464">1.3.3 (2021-07-16)</a></li>
<li><a class="reference internal" href="#id465">1.3.2 (2021-05-27)</a></li>
<li><a class="reference internal" href="#id468">1.3.1 (2018-05-27)</a></li>
<li><a class="reference internal" href="#id469">1.3 (2021-04-22)</a></li>
<li><a class="reference internal" href="#id470">1.2.3 (2018-04-14) =&gt; 1.2.3（2018年04月14日）</a></li>
<li><a class="reference internal" href="#id471">1.2.2 (2018-04-08)</a></li>
<li><a class="reference internal" href="#id472">1.2.1 (2018-03-25)</a></li>
<li><a class="reference internal" href="#id478">1.2 (2018-02-23)</a></li>
<li><a class="reference internal" href="#id479">1.1 (2018-01-27)</a></li>
<li><a class="reference internal" href="#id480">1.0.4（2018-01-10）</a></li>
<li><a class="reference internal" href="#id481">1.0.3 (2018-01-07)</a></li>
<li><a class="reference internal" href="#id482">1.0.2 (2017-11-29)</a></li>
<li><a class="reference internal" href="#id483">1.0.1 （2017年11月21日）</a></li>
<li><a class="reference internal" href="#id485">1.0 (2017-11-19)</a></li>
<li><a class="reference internal" href="#id486">0.4.1 (2017-08-03)</a></li>
<li><a class="reference internal" href="#id487">0.4 (2017-08-05)</a></li>
<li><a class="reference internal" href="#id488">0.3.4 (2017-08-04)</a></li>
<li><a class="reference internal" href="#id489">0.3.3 (2017-07-05)</a></li>
<li><a class="reference internal" href="#id490">0.3.2 (2017-07-04)</a></li>
<li><a class="reference internal" href="#id491">0.3.1 (2017-07-04)</a></li>
<li><a class="reference internal" href="#b1-2017-06-00">0.2b1 (2017年06月00日)</a></li>
<li><a class="reference internal" href="#id492">0.1（2017-06-03）</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=cfceb4e6"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/translations.js?v=beaddf03"></script>
    </body>
</html>